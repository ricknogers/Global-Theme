{"version":3,"file":"common-inbox.d10322c57f81151acaac.js","mappings":"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","sources":["webpack://gravityflow/../../../assets/js/src/common/grids/inbox/elements.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/state.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/instances.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/filter-handler.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/fullscreen-handler.js","webpack://gravityflow/../../../assets/js/src/common/config/constants.js","webpack://gravityflow/../../../assets/js/src/common/grids/utils/data.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/search-handler.js","webpack://gravityflow/../../../assets/js/src/common/components/ag-grid-date.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/options.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/grid-state.js","webpack://gravityflow/../../../assets/js/src/common/grids/utils/url.js","webpack://gravityflow/../../../assets/js/src/templates/components/input.js","webpack://gravityflow/../../../assets/js/src/templates/components/toggle.js","webpack://gravityflow/../../../assets/js/src/templates/grids/inbox.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/quick-actions.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/grid-events.js","webpack://gravityflow/../../../assets/js/src/common/grids/utils/comparators.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/cell-renderer.js","webpack://gravityflow/../../../assets/js/src/common/config/request.js","webpack://gravityflow/../../../assets/js/src/utils/request.js","webpack://gravityflow/../../../assets/js/src/common/grids/utils/requests.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/notifications.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/settings.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/locale.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/initialize-grid.js","webpack://gravityflow/../../../assets/js/src/templates/components/grid.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/grid-refresh.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/index.js","webpack://gravityflow/../../../assets/js/src/common/grids/inbox/draggable-handler.js"],"sourcesContent":["/**\n * @module elements\n * @description Stored dom elements used in inbox modules.\n *\n * @since 2.8.0\n *\n */\n\nexport default {};\n","/**\n * @module state\n * @description The shared state object for the inbox modules.\n *\n * @since 2.8.0\n *\n */\n\nexport default {\n\tactiveGrid: '',\n\tactionData: [],\n\tactionMenuOpen: false,\n\tactiveAction: null,\n\tactiveActionKey: '',\n\tactiveActionNote: '',\n\tactiveActionSubmitType: '',\n\tactiveActionTrigger: null,\n\tactiveGridNode: null,\n\tactiveRowNode: null,\n\tcleanDocTitle: document.title || '',\n\tdragging: false,\n\tlatestUpdateData: {},\n\tnewRowsOnUpdate: 0,\n\tnotificationShown: false,\n\topenInNewTab: false,\n\tpreviousRowCount: 0,\n\tpushEnabled: false,\n};\n","/**\n * @module instances\n * @description Stores active instances for the inbox modules.\n *\n * @since 2.8.0\n *\n */\n\nexport default {\n\trefreshTimers: {},\n\tgrids: {},\n\tgridOptions: {},\n\tflyouts: {},\n\tnotifications: {},\n};\n","import { delegate } from '@gravityforms/utils';\nimport instances from './instances';\n\n/**\n * @function handleClearFilters\n * @description Clear all filters active for table.\n *\n * @since 2.8.0\n *\n * @param  e The event object.\n */\n\nconst handleClearFilters = ( e ) => {\n\tconst gridId = e.delegateTarget.parentNode.dataset.gridId;\n\tinstances.gridOptions[ gridId ].api.setFilterModel( null );\n};\n\n/**\n * @function bindEvents\n * @description Binds the events for this module.\n *\n * @since 2.8.0\n *\n */\n\nconst bindEvents = () => {\n\tdelegate(\n\t\tdocument.body,\n\t\t'[data-js=\"inbox-clear-filters\"]',\n\t\t'click',\n\t\thandleClearFilters\n\t);\n};\n\n/**\n * @function init\n * @description Kick off this modules functionality\n *\n * @since 2.8.0\n *\n */\n\nconst init = () => {\n\tbindEvents();\n};\n\nexport default init;\n","import { bodyLock, delegate, getNodes } from '@gravityforms/utils';\n\nconst state = {\n\tactiveGrid: null,\n};\n\n/**\n * @function exitFullscreen\n * @description Exit fullscreen mode.\n *\n * @since 2.8.0\n *\n */\n\nconst exitFullscreen = () => {\n\tdocument.body.classList.remove( 'gflow-grid--fullscreen-active' );\n\tbodyLock.unlock();\n\n\tstate.activeGrid.style.left = `${ state.activeGrid.dataset.left }px`;\n\tstate.activeGrid.style.top = `${ state.activeGrid.dataset.top }px`;\n\tstate.activeGrid.style.width = `${ state.activeGrid.dataset.width }px`;\n\tstate.activeGrid.style.height = `${ state.activeGrid.dataset.height }px`;\n\n\tsetTimeout( () => {\n\t\tconst placeholder = getNodes( 'gflow-grid-placeholder' )[ 0 ];\n\t\tplaceholder.parentNode.removeChild( placeholder );\n\t\tstate.activeGrid.classList.remove( 'gflow-grid--animate' );\n\t\tstate.activeGrid.classList.remove( 'gflow-grid--fullscreen' );\n\t\tstate.activeGrid.style.left = ``;\n\t\tstate.activeGrid.style.top = ``;\n\t\tstate.activeGrid.style.width = ``;\n\t\tstate.activeGrid.style.height = ``;\n\t}, 400 );\n};\n\n/**\n * @function enterFullscreen\n * @description Enter fullscreen mode.\n *\n * @since 2.8.0\n *\n */\n\nconst enterFullscreen = () => {\n\tconst rect = state.activeGrid.getBoundingClientRect();\n\tstate.activeGrid.insertAdjacentHTML(\n\t\t'beforebegin',\n\t\t`<div data-js=\"gflow-grid-placeholder\" style=\"height: ${ rect.height }px\"></div>`\n\t);\n\n\tstate.activeGrid.setAttribute( 'data-top', rect.top );\n\tstate.activeGrid.setAttribute( 'data-left', rect.left );\n\tstate.activeGrid.setAttribute( 'data-height', rect.height );\n\tstate.activeGrid.setAttribute( 'data-width', rect.width );\n\n\tstate.activeGrid.style.left = `${ rect.left }px`;\n\tstate.activeGrid.style.top = `${ rect.top }px`;\n\tstate.activeGrid.style.width = `${ rect.width }px`;\n\tstate.activeGrid.style.height = `${ rect.height }px`;\n\n\tstate.activeGrid.classList.add( 'gflow-grid--fullscreen' );\n\n\tsetTimeout( () => {\n\t\tconst top = document.body.classList.contains( 'admin-bar' )\n\t\t\t? 32\n\t\t\t: 0;\n\t\tstate.activeGrid.classList.add( 'gflow-grid--animate' );\n\t\tstate.activeGrid.style.left = `0`;\n\t\tstate.activeGrid.style.top = `${ top }px`;\n\t\tstate.activeGrid.style.width = `100%`;\n\t\tstate.activeGrid.style.height = `calc(100% - ${ top }px)`;\n\t}, 25 );\n\n\tsetTimeout( () => {\n\t\tdocument.body.classList.add( 'gflow-grid--fullscreen-active' );\n\t\tbodyLock.lock( false );\n\t}, 400 );\n};\n\n/**\n * @function handleFullscreen\n * @description Toggle fullscreen mode for the active inbox.\n *\n * @since 2.8.0\n *\n */\n\nconst handleFullscreen = ( e ) => {\n\tstate.activeGrid = e.delegateTarget.parentNode.parentNode.parentNode;\n\tif ( state.activeGrid.classList.contains( 'gflow-grid--fullscreen' ) ) {\n\t\texitFullscreen();\n\t} else {\n\t\tenterFullscreen();\n\t}\n};\n\n/**\n * @function handleKeyEvents\n * @description Handle escape key to close the window when that key is pressed.\n *\n * @since 2.8.0\n *\n * @param  e {KeyboardEvent} The event object.\n */\n\nconst handleKeyEvents = ( e ) => {\n\tif ( ! state.activeGrid || e.key !== 'Escape' ) {\n\t\treturn;\n\t}\n\tif ( ! state.activeGrid.classList.contains( 'gflow-grid--fullscreen' ) ) {\n\t\treturn;\n\t}\n\n\texitFullscreen();\n};\n\n/**\n * @function bindEvents\n * @description Bind event handlers.\n *\n * @since 2.8.0\n *\n */\n\nconst bindEvents = () => {\n\tdelegate(\n\t\tdocument.body,\n\t\t'[data-js=\"inbox-fullscreeen\"]',\n\t\t'click',\n\t\thandleFullscreen\n\t);\n\n\tdocument.addEventListener( 'keydown', handleKeyEvents );\n};\n\n/**\n * @function init\n * @description Kick off this module's functionality.\n *\n * @since 2.8.0\n *\n */\n\nconst init = () => {\n\tbindEvents();\n};\n\nexport default init;\n","export const INBOX_DEFAULT_ID = 'inbox_default';\nexport const INBOX_VIEW_CONTEXT = 'inbox_default_last_view_context';\n\nexport const QUICK_ACTION_SHOW_NOTE = 'show_note_field';\nexport const QUICK_ACTION_KEY = 'key';\nexport const QUICK_ACTION_LABEL = 'label';\n","import gflowConfig from 'gflow-config';\nimport { INBOX_DEFAULT_ID } from 'common/config/constants';\nimport { getClosest } from '@gravityforms/utils';\nimport instances from '../inbox/instances';\n\nconst globalOptions = {\n\tanimateRows: false,\n};\nconst data = gflowConfig?.grids || {};\n\n/**\n * @function getIdsFromModel\n * @description Get all ids for grid rows from a grid.\n *\n * @since 2.8.0\n *\n * @param  gridId {number} The grid id\n * @return {*[]}\n */\n\nexport const getIdsFromModel = ( gridId ) => {\n\tconst ids = [];\n\tinstances.gridOptions[ gridId ].api.forEachNode( ( node ) =>\n\t\tids.push( node.data.id )\n\t);\n\treturn ids;\n};\n\n/**\n * @function getGridIDFromEvent\n * @description Returns a Grid ID from the given input Event.\n *\n * @since 2.8.0\n *\n * @param  e The input Event.\n *\n * @return {string}\n */\n\nexport const getGridIdFromEvent = ( e ) => {\n\tconst input = e.delegateTarget;\n\tconst gridContainer = getClosest( input, '[data-js=\"gflow-inbox\"]' );\n\treturn getGridId( gridContainer );\n};\n\n/**\n * @function getGridId\n * @description Gets the grid id used to match options to instances in the dom.\n *\n * @since 2.8.0\n *\n * @param {HTMLElement} grid The wrapping container the grid is injected to\n * @return {string}\n */\n\nexport const getGridId = ( grid ) => grid.dataset.gridId || INBOX_DEFAULT_ID;\n\n/**\n * @function getGridOptions\n * @description Merges global options with the instance specific options for a grid instance.\n *\n * @since 2.8.0\n *\n * @param {string} gridId The unique identifier for the grid instance.\n * @return {object}\n */\n\nexport const getGridOptions = ( gridId = INBOX_DEFAULT_ID ) =>\n\tObject.assign( {}, data[ gridId ].grid_options, globalOptions );\n\n/**\n * @function deleteRow\n * @description deletes a row from an ag grid instance by entryId.\n *\n * @since 2.8.0\n *\n * @param {object} gridOptions\n * @param {number} entryId\n */\n\nexport const deleteRow = ( gridOptions = {}, entryId = 0 ) => {\n\tgridOptions.api.forEachNode( ( node ) => {\n\t\tif ( Number( node.data.id ) === Number( entryId ) ) {\n\t\t\tgridOptions.rowData.splice( node.rowIndex, 1 );\n\t\t\tgridOptions.api.setRowData( gridOptions.rowData );\n\t\t}\n\t} );\n};\n","import { delegate } from '@gravityforms/utils';\nimport { getGridIdFromEvent } from '../utils/data';\n\nimport instances from './instances';\n\n/**\n * @function applySearch\n * @description Apply a search term to the grid.\n *\n * @since 2.8.0\n *\n * @param  e The event object.\n */\n\nconst applySearch = ( e ) => {\n\tconst input = e.delegateTarget;\n\tconst gridId = getGridIdFromEvent( e );\n\tinstances.gridOptions[ gridId ].api.setQuickFilter( input.value );\n};\n\n/**\n * @function clearSearch\n * @description Clear the search term from the grid.\n *\n * @since 2.8.0\n *\n * @param  e The event object.\n */\n\nconst clearSearch = ( e ) => {\n\tconst gridId = getGridIdFromEvent( e );\n\tinstances.gridOptions[ gridId ].api.setQuickFilter( null );\n};\n\n/**\n * @function bindEvents\n * @description Bind event handlers.\n *\n * @since 2.8.0\n *\n */\n\nconst bindEvents = () => {\n\tdelegate(\n\t\tdocument.body,\n\t\t'[data-js=\"gflow-inbox-search\"]',\n\t\t'keyup',\n\t\tapplySearch\n\t);\n\n\tdelegate(\n\t\tdocument.body,\n\t\t'[data-js=\"gflow-inbox-search\"]',\n\t\t'search',\n\t\tclearSearch\n\t);\n};\n\n/**\n * @function init\n * @description Kick off this module's functionality.\n *\n * @since 2.8.0\n *\n */\n\nconst init = () => {\n\tbindEvents();\n};\n\nexport default init;\n","import flatpickr from 'flatpickr';\nimport gflowConfig from 'gflow-config';\n\nconst defaultDateFormat = gflowConfig?.default_date_format || 'd/m/Y';\n\n/**\n * @class AgGridDateComponent\n * @description Overrides ag grids internal date component for filtering with a flatpickr instance.\n *\n * @since 2.8.0\n *\n */\n\nexport default class AgGridDateComponent {\n\tinit( params ) {\n\t\tconst template = `\n\t\t\t<input type=\"text\" data-input style=\"width: 100%;\" />\n\t\t\t<a class=\"ag-grid__date-toggle\" title=\"toggle\" data-toggle>\n\t\t        <i class=\"gflow-icon gflow-icon--calendar\"></i>\n\t\t    </a>\n\t\t\n\t\t    <a class=\"ag-grid__date-clear-toggle\" title=\"clear\" data-clear>\n\t\t        <i class=\"gflow-icon gflow-icon--x\"></i>\n\t\t    </a>\n\t\t`;\n\n\t\tthis.params = params;\n\n\t\tthis.eGui = document.createElement( 'div' );\n\t\tthis.eGui.setAttribute( 'role', 'presentation' );\n\t\tthis.eGui.classList.add( 'ag-input-wrapper' );\n\t\tthis.eGui.classList.add( 'custom-date-filter' );\n\t\tthis.eGui.innerHTML = template;\n\n\t\tthis.eInput = this.eGui.querySelector( 'input' );\n\n\t\tthis.picker = flatpickr( this.eGui, {\n\t\t\tonChange: this.onDateChanged.bind( this ),\n\t\t\tdateFormat: defaultDateFormat,\n\t\t\twrap: true,\n\t\t} );\n\n\t\tthis.picker.calendarContainer.classList.add(\n\t\t\t'ag-custom-component-popup'\n\t\t);\n\n\t\tthis.date = null;\n\t}\n\n\tgetGui() {\n\t\treturn this.eGui;\n\t}\n\n\tonDateChanged( selectedDates ) {\n\t\tthis.date = selectedDates[ 0 ] || null;\n\t\tthis.params.onDateChanged();\n\t}\n\n\tgetDate() {\n\t\treturn this.date;\n\t}\n\n\tsetDate( date ) {\n\t\tthis.picker.setDate( date );\n\t\tthis.date = date;\n\t}\n\n\tsetInputPlaceholder() {\n\t\tthis.eInput.setAttribute( 'placeholder', defaultDateFormat );\n\t}\n}\n","/**\n * @module options\n * @description The shared options object for the inbox modules.\n *\n * @since 2.8.0\n *\n */\n\nexport default {\n\tgridMutationEvents: [\n\t\t'onModelUpdated',\n\t\t'onColumnResized',\n\t\t'onColumnVisible',\n\t\t'onDragStopped',\n\t],\n\topenNewTabKeycodes: [ 'ShiftLeft', 'ShiftRight' ],\n};\n","import instances from './instances';\nimport { arrayEquals, localStorage, getNodes } from '@gravityforms/utils';\n\nimport options from './options';\nimport state from './state';\n\n/**\n * @function setGridInitialState\n * @description Sets the initial state for the grid, if no stored settings yet, sizes to current layout.\n *\n * @since 2.8.0\n *\n * @param {string} gridId The ag grid id string\n */\n\nexport const setGridInitialState = ( gridId ) => {\n\tlet gridState = localStorage.get( gridId );\n\n\tif ( ! gridState ) {\n\t\tinstances.gridOptions[ gridId ].api.sizeColumnsToFit();\n\t\treturn;\n\t}\n\n\tconst storedColumns = JSON.parse( gridState )\n\t\t.map( ( entry ) => entry.colId )\n\t\t.sort();\n\tconst currentColumns = instances.gridOptions[ gridId ].columnDefs\n\t\t.map( ( entry ) => entry.field )\n\t\t.sort();\n\n\tif ( ! arrayEquals( storedColumns, currentColumns ) ) {\n\t\tinstances.gridOptions[ gridId ].api.sizeColumnsToFit();\n\t\treturn;\n\t}\n\n\tgridState = JSON.parse( gridState ).sort( ( x ) =>\n\t\tx.colId === 'id' ? -1 : 0\n\t);\n\tinstances.gridOptions[ gridId ].columnApi.applyColumnState( {\n\t\tstate: gridState,\n\t\tapplyOrder: true,\n\t} );\n};\n\n/**\n * @function handleGridStateChange\n * @description Handles grid state changes and stores them in local storage\n *\n * @since 2.8.0\n *\n * @param {Event}  event  The ag grid event object\n * @param {string} gridId The ag grid id string\n */\n\nexport const handleGridStateChange = ( event, gridId ) => {\n\tconst filters = instances.gridOptions[ gridId ].api.getFilterModel();\n\tconst gridNode = getNodes(\n\t\t`[data-js=\"gflow-inbox\"][data-grid-id=\"${ gridId }\"]`,\n\t\tfalse,\n\t\tdocument,\n\t\ttrue\n\t)[ 0 ];\n\tif ( Object.keys( filters ).length === 0 ) {\n\t\tgridNode.classList.remove( 'gflow-inbox--filters-active' );\n\t} else {\n\t\tgridNode.classList.add( 'gflow-inbox--filters-active' );\n\t}\n\tlocalStorage.put(\n\t\tgridId,\n\t\tJSON.stringify(\n\t\t\tinstances.gridOptions[ gridId ].columnApi.getColumnState()\n\t\t)\n\t);\n};\n\n/**\n * @function trackKeyState\n * @description Track whether desired keys are being pressed and set state as needed.\n *\n * @since 2.8.0\n *\n */\n\nconst trackKeyState = ( e ) => {\n\tif ( options.openNewTabKeycodes.indexOf( e.code ) === -1 ) {\n\t\treturn;\n\t}\n\tstate.openInNewTab = e.type === 'keydown';\n};\n\n/**\n * @function bindEvents\n * @description Bind event handlers.\n *\n * @since 2.8.0\n *\n */\n\nconst bindEvents = () => {\n\tdocument.addEventListener( 'keydown', trackKeyState );\n\tdocument.addEventListener( 'keyup', trackKeyState );\n};\n\n/**\n * @function init\n * @description Kick off this module's functionality.\n *\n * @since 2.8.0\n *\n */\n\nconst init = () => {\n\tbindEvents();\n};\n\nexport default init;\n","import { openNewTab } from '@gravityforms/utils';\n\nimport state from '../inbox/state';\n\n/**\n * @function redirectToEntryEdit\n * @description Executes redirect to entry edit.\n *\n * @since 2.8.0\n *\n * @param  url {string} The entry url.\n */\n\nexport const redirectToEntryEdit = ( url = '' ) => {\n\tif ( state.openInNewTab ) {\n\t\topenNewTab( url );\n\t} else {\n\t\twindow.location.href = url;\n\t}\n};\n","/**\n * @function input\n * @description A function to generate input html.\n *\n * @since 2.8.0\n *\n * @param {string} type\n * @param {string} id\n * @param {string} name\n * @param {string} value\n * @param {string} classes\n * @param {string} jsAttribute\n * @param {string} placeholder\n *\n * @return {string}\n */\nexport default function(\n\ttype = 'text',\n\tid = '',\n\tname = '',\n\tvalue = '',\n\tclasses = 'gform-input',\n\tjsAttribute = 'gform-input',\n\tplaceholder = ''\n) {\n\treturn `\n\t<input \n\t\tclass=\"${ classes }\" \n\t\tvalue=\"${ value }\" \n\t\ttype=\"${ type }\" \n\t\tdata-js=\"${ jsAttribute }\"\n\t\t${ placeholder ? `placeholder=\"${ placeholder }\"` : '' }\n\t\t${ id ? `id=\"${ id }\"` : '' }\n\t\t${ name ? `name=\"${ name }\"` : '' }\n\t/>\n\t`;\n}\n","/**\n * @function toggle\n * @description A function to generate toggle html.\n *\n * @since 2.8.0\n *\n * @param {string}  id\n * @param {string}  name\n * @param {boolean} checked\n * @param {string}  disabledLabel\n * @param {string}  enabledLabel\n * @param {string}  wrapperClasses\n * @param {string}  jsAttribute\n *\n * @return {string}\n */\nexport default function(\n\tid = '',\n\tname = '',\n\tchecked = false,\n\tdisabledLabel = '',\n\tenabledLabel = '',\n\twrapperClasses = 'gform-field__toggle',\n\tjsAttribute = 'gform-toggle'\n) {\n\treturn `\n\t<div class=\"${ wrapperClasses }\">\n\t\t<span class=\"gform-settings-input__container\">\n\t\t\t<input \n\t\t\t\ttype=\"checkbox\" \n\t\t\t\tclass=\"gform-field__toggle-input\" \n\t\t\t\tdata-js=\"${ jsAttribute }\" \n\t\t\t\t${ id ? `id=${ id }` : '' }\n\t\t\t\t${ name ? `name=${ name }` : '' }\n\t\t\t\t${ checked ? 'checked' : '' }\n\t\t\t>\n\t\t\t<label class=\"gform-field__toggle-container\" ${ id ? `for=${ id }` : '' }>\n\t\t\t\t<span \n\t\t\t\t\tclass=\"gform-field__toggle-switch-text screen-reader-text\"\n\t\t\t\t\tdata-disabled-text=\"${ disabledLabel }\"\n\t\t\t\t\tdata-enabled-text=\"${ enabledLabel }\"\n\t\t\t\t>${ checked ? enabledLabel : disabledLabel }</span>\n\t\t\t\t<span class=\"gform-field__toggle-switch\"></span>\n\t\t\t</label>\n\t\t</span>\n\t</div>\n\t`;\n}\n","import gflowConfig from 'gflow-config';\nimport { uniqueId } from '@gravityforms/utils';\nimport input from 'templates/components/input';\nimport toggle from 'templates/components/toggle';\nimport {\n\tQUICK_ACTION_SHOW_NOTE,\n\tQUICK_ACTION_KEY,\n\tQUICK_ACTION_LABEL,\n} from 'common/config/constants';\n\nconst i18n = gflowConfig?.i18n || {};\n\n/**\n * @function settings\n * @description The content for the inbox settings flyout.\n *\n * @since 2.8.0\n *\n * @param  data {object} Data for the template.\n * @param  id   {string} The id for the grid plus index.\n *\n * @return {string}\n */\n\nexport const settings = ( data = {}, id = '' ) =>\n\t`\n\t<span class=\"gform-flyout__setting-label\">\n\t\t${ i18n.settings_push_title }\n\t</span>\n\t<span class=\"gform-flyout__setting-desc\">\n\t\t${ i18n.settings_push_desc }\n\t</span>\n\t${ toggle(\n\t\t`inbox-setting--push-enabled-${ id }`,\n\t\t'inbox-setting--push-enabled',\n\t\tdata.push_enabled,\n\t\ti18n.disabled,\n\t\ti18n.enabled,\n\t\t'gform-field__toggle gform-flyout__setting',\n\t\t'inbox-setting'\n\t) }\n\t`;\n\n/**\n * @function header\n * @description The inbox header with search.\n *\n * @since 2.8.0\n *\n * @return {string}\n */\n\nexport const header = ( searchId = uniqueId( 'inbox-header-' ) ) =>\n\t`\n\t<div class=\"gflow-grid__header\">\n\t\t<i class=\"gflow-grid__search-icon gflow-icon gflow-icon--search\"></i>\n\t\t${ input(\n\t\t'search',\n\t\tsearchId,\n\t\t'',\n\t\t'',\n\t\t'gform-input gflow-inbox__search',\n\t\t'gflow-inbox-search',\n\t\ti18n.search_inbox\n\t) }\n\t</div>\n\t`;\n\n/**\n * @function actionsTrigger\n * @description The inbox trigger for quick actions menu.\n *\n * @since 2.8.0\n *\n * @param  entryId  {number} The associated entry id\n * @param  entryUrl {string} The entry url\n *\n * @return {string}\n */\n\nexport const actionsTrigger = ( entryId = 0, entryUrl ) =>\n\t`<button \n\t\tclass=\"gflow-grid__actions-trigger gflow-icon gflow-icon--more-vertical\" \n\t\taria-label=\"${ i18n.view_quick_actions }\"\n\t\tdata-js=\"gflow-quick-actions-trigger\"\n\t\tdata-id=\"${ entryId }\"\n\t\tdata-url=\"${ entryUrl }\"\n\t></button>`;\n\n/**\n * @function actionsMenu\n * @description The quick actions menu for an entry.\n *\n * @since 2.8.0\n *\n * @param  entryUrl {string} The entry url.\n * @param  actions  {array} Action info like label, key and note reqs.\n *\n * @return {string}\n */\n\nexport const actionsMenu = ( entryUrl = '', actions = [] ) =>\n\t`<article class=\"gform-admin gflow-grid__actions-menu\" data-js=\"gflow-quick-actions-menu\">\n\t\t<div class=\"gflow-grid__actions-menu-row\">\n\t\t\t<button \n\t\t\t\tclass=\"gflow-grid__actions-menu-trigger\" \n\t\t\t\tdata-js=\"gflow-quick-actions-menu-trigger\" \n\t\t\t\tdata-action=\"edit\"\n\t\t\t\tdata-url=\"${ entryUrl }\"\n\t\t\t>\n\t\t\t\t${ i18n.view_entry }\n\t\t\t</button>\n\t\t</div>\n\t\t${ actions\n\t\t.map(\n\t\t\t( action ) => `\n\t\t\t\t\t<div class=\"gflow-grid__actions-menu-row\">\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclass=\"gflow-grid__actions-menu-trigger gflow-grid__actions-menu-trigger--${ action[ QUICK_ACTION_KEY ] }\"\n\t\t\t\t\t\t\tdata-js=\"gflow-quick-actions-menu-trigger\" \n\t\t\t\t\t\t\tdata-action=\"${ action[ QUICK_ACTION_KEY ] }\"\n\t\t\t\t\t\t\tdata-requires-note=\"${ action[ QUICK_ACTION_SHOW_NOTE ] }\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t${ action[ QUICK_ACTION_LABEL ] }\n\t\t\t\t\t\t\t<span class=\"gform-loader--spin\">${ i18n.loading }</span>\n\t\t\t\t\t\t\t<i class=\"gflow_grid__actions-icon-success gflow-icon gflow-icon--check\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>`\n\t\t)\n\t\t.join( '' ) }\n\t\t<div class=\"gflow-grid__actions-menu-note\">\n\t\t\t<span class=\"gflow-grid__actions-menu-heading\">${ i18n.actions_menu_heading }</span>\n\t\t\t<textarea class=\"gflow-grid__actions-menu-textarea\" data-js=\"gflow-quick-actions-menu-note\"></textarea>\n\t\t\t<div class=\"gflow-grid__actions-menu-footer\">\n\t\t\t\t<button \n\t\t\t\t\tclass=\"gform-button gform-button--white gform-button--size-sm gflow_grid__actions-menu-submit\" \n\t\t\t\t\tdata-js=\"gflow-quick-actions-menu-note-action\" \n\t\t\t\t\tdata-action=\"submit\"\n\t\t\t\t\tdisabled=\"disabled\"\n\t\t\t\t>\n\t\t\t\t\t${ i18n.submit }\n\t\t\t\t\t<span class=\"gform-loader--spin\">${ i18n.loading }</span>\n\t\t\t\t\t<i class=\"gflow_grid__actions-icon-success gflow-icon gflow-icon--check\"></i>\n\t\t\t\t</button>\n\t\t\t\t<button \n\t\t\t\t\tclass=\"gform-button gform-button--white gform-button--size-sm gform-button--no-border\" \n\t\t\t\t\tdata-js=\"gflow-quick-actions-menu-note-action\"\n\t\t\t\t\tdata-action=\"cancel\"\n\t\t\t\t>${ i18n.cancel }</button>\n\t\t\t</div>\n\t\t</div>\n\t</article>`;\n\n/**\n * @function loadingMask\n * @description Masks the inbox during ajax to prevent interactions.\n *\n * @since 2.8.0\n *\n * @return {string}\n */\n\nexport const loadingMask = () => `\n\t<div class=\"gflow-inbox__loading-mask\" data-js=\"gform-loading-mask\"></div>\n`;\n","import $ from 'jquery';\nimport { delegate, getNodes, getClosest, getCoords, focusLoop } from '@gravityforms/utils';\nimport { deleteRow } from '../utils/data';\nimport { redirectToEntryEdit } from '../utils/url';\nimport * as inboxTemplates from 'templates/grids/inbox';\n\nimport state from './state';\nimport instances from './instances';\nimport el from './elements';\n\nconst gflowStrings = window.gravityflow_inbox_strings || {};\n\n/**\n * @class ActionsRenderer\n * @description Injects the quick actions menu for a row that has it enabled.\n *\n * @since 2.8.0\n *\n * @type {ActionsRenderer}\n */\n\nexport const actionsRenderer = class ActionsRenderer {\n\tinit( params ) {\n\t\tconst actionData = params.value;\n\t\tconst cell = document.createElement( 'div' );\n\t\tcell.innerHTML = `\n\t\t\t<a class=\"gflow-inbox__entry-cell-link\" href=\"${ params.node.data.url_entry }\"></a>\n\t\t`;\n\t\tif ( ! actionData ) {\n\t\t\tthis.eGui = cell;\n\t\t\treturn;\n\t\t}\n\t\tif ( ! actionData.actions.length ) {\n\t\t\tthis.eGui = cell;\n\t\t\treturn;\n\t\t}\n\t\tstate.actionData.push( {\n\t\t\tentryId: actionData.entryId,\n\t\t\tentryUrl: params.data.url_entry,\n\t\t\tactions: actionData.actions,\n\t\t} );\n\t\tthis.eGui = document.createElement( 'div' );\n\t\tthis.eGui.classList.add( 'gflow-grid__actions-container' );\n\t\tthis.eGui.innerHTML = inboxTemplates.actionsTrigger(\n\t\t\tactionData.entryId,\n\t\t\tparams.data.url_entry,\n\t\t);\n\t}\n\n\tgetGui() {\n\t\treturn this.eGui;\n\t}\n};\n\n/**\n * @function setAjaxLoading\n * @description Sets up the ui for quick actions ajax.\n *\n * @since 2.8.0\n *\n */\n\nconst setAjaxLoading = () => {\n\tel.activeActionMenu.classList.add(\n\t\t'gflow-grid__actions-menu--ajax-running'\n\t);\n\tel.activeActionMenu.classList.add(\n\t\t`gflow-grid__actions-menu--ajax-action-${ state.activeActionSubmitType }`\n\t);\n\tdocument.body.insertAdjacentHTML(\n\t\t'beforeend',\n\t\tinboxTemplates.loadingMask()\n\t);\n};\n\n/**\n * @function cleanUpAjaxUi\n * @description Cleans html elements up at the end of ajax save.\n *\n * @since 2.8.0\n *\n * @param  mask {HTMLElement} The mask element to remove.\n */\n\nconst cleanUpAjaxUi = ( mask ) => {\n\tmask.parentNode.removeChild( mask );\n\tif ( ! el.activeActionMenu ) {\n\t\treturn;\n\t}\n\tel.activeActionMenu.classList.remove(\n\t\t'gflow-grid__actions-menu--ajax-running'\n\t);\n\tel.activeActionMenu.classList.remove(\n\t\t`gflow-grid__actions-menu--ajax-action-${ state.activeActionSubmitType }`\n\t);\n};\n\n/**\n * @function finishAjaxLoading\n * @description Handle ajax finish for quick actions action.\n *\n * @since 2.8.0\n *\n * @param  success {boolean} Was ajax successful?\n */\n\nconst finishAjaxLoading = ( success = true ) => {\n\tconst mask = getNodes( 'gform-loading-mask' )[ 0 ];\n\tif ( success ) {\n\t\tel.activeActionMenu.classList.add(\n\t\t\t'gflow-grid__actions-menu--ajax-success'\n\t\t);\n\t\tsetTimeout( () => {\n\t\t\tel.activeActionMenu.classList.add(\n\t\t\t\t'gflow-grid__actions-menu--fade-out'\n\t\t\t);\n\t\t\tsetTimeout( () => {\n\t\t\t\tif ( state.activeActionKey === 'Enter' && state.activeRowNode.nextElementSibling ) {\n\t\t\t\t\tconst cellToFocus = getNodes( '.ag-cell', false, state.activeRowNode.nextElementSibling, true )[ 0 ];\n\t\t\t\t\tcellToFocus.focus( { preventScroll: true } );\n\t\t\t\t}\n\t\t\t\tdeleteRow(\n\t\t\t\t\tinstances.gridOptions[ state.activeGrid ],\n\t\t\t\t\tstate.activeActionMenuEntryId\n\t\t\t\t);\n\t\t\t\tcleanUpAjaxUi( mask );\n\t\t\t\tcloseQuickActionMenu();\n\t\t\t}, 400 );\n\t\t}, 600 );\n\t} else {\n\t\tcleanUpAjaxUi( mask );\n\t}\n};\n\n/**\n * @function submitNoteAction\n * @description Ajax to submit the current action.\n *\n * @since 2.8.0\n *\n */\n\nconst submitNoteAction = () => {\n\t$.ajax( {\n\t\tmethod: 'POST',\n\t\turl: `${ gflowStrings?.restUrl }gf/v2/entries/${ state.activeActionMenuEntryId }/workflow/approvals`,\n\t\tdata: {\n\t\t\taction: state.activeActionSubmitType,\n\t\t\tgravityflow_note: el.activeActionMenuNote.value,\n\t\t},\n\t\tbeforeSend( xhr ) {\n\t\t\txhr.setRequestHeader( 'X-WP-Nonce', gflowStrings?.nonce );\n\t\t\tsetAjaxLoading();\n\t\t},\n\t\tsuccess( response ) {\n\t\t\tif ( response.status === 'success' ) {\n\t\t\t\tfinishAjaxLoading();\n\t\t\t} else {\n\t\t\t\tfinishAjaxLoading( false );\n\t\t\t\talert( response.feedback ); // eslint-disable-line\n\t\t\t}\n\t\t},\n\t\tfail( response ) {\n\t\t\tfinishAjaxLoading( false );\n\t\t\talert( response ); // eslint-disable-line\n\t\t},\n\t} );\n};\n\n/**\n * @function handleQuickAction\n * @description Handles approve or reject actions for a row.\n *\n * @since 2.8.0\n *\n * @param  requiresNote {string} String to set whether action requires note.\n */\n\nconst handleQuickAction = ( requiresNote = '' ) => {\n\tif ( requiresNote === 'true' ) {\n\t\tel.activeActionMenuNote.focus();\n\t\tel.activeActionMenu.classList.add(\n\t\t\t'gflow-grid__actions-menu--note-active'\n\t\t);\n\t} else {\n\t\tsubmitNoteAction();\n\t}\n};\n\n/**\n * @function handleQuickActionsMenuTrigger\n * @description Handle the trigger events for a quick actions menu instance.\n *\n * @since 2.8.0\n *\n * @param  e The event object.\n */\n\nconst handleQuickActionsMenuTrigger = ( e ) => {\n\tconst trigger = e.delegateTarget;\n\tconst action = trigger.dataset.action;\n\tconst requiresNote = trigger.dataset.requiresNote;\n\n\tif ( action === 'edit' ) {\n\t\tredirectToEntryEdit( trigger.dataset.url );\n\t} else if ( action === 'approve' || action === 'reject' ) {\n\t\tstate.activeActionSubmitType = action;\n\t\thandleQuickAction( requiresNote, trigger );\n\t}\n};\n\n/**\n * @function handleQuickActionsMenuNote\n * @description Handle key events on the note textarea for an action. Store content to state, and enable/disable based on length.\n *\n * @since 2.8.0\n *\n */\n\nconst handleQuickActionsMenuNote = () => {\n\tel.activeActionMenuSubmit.disabled =\n\t\tel.activeActionMenuNote.value.trim().length <= 0;\n};\n\n/**\n * @function handleQuickActionsMenuNoteAction\n * @description Cancel or submit the current note for an entry.\n *\n * @since 2.8.0\n *\n */\n\nconst handleQuickActionsMenuNoteAction = ( e ) => {\n\tconst trigger = e.delegateTarget;\n\tif ( trigger.dataset.action === 'cancel' ) {\n\t\tel.activeActionMenuNote.value = '';\n\t\tel.activeActionMenuSubmit.disabled = true;\n\t\tel.activeActionMenu.classList.remove(\n\t\t\t'gflow-grid__actions-menu--note-active'\n\t\t);\n\t\treturn;\n\t}\n\n\tsubmitNoteAction();\n};\n\n/**\n * @function positionQuickActionMenu\n * @description Set the position of the quick actions menu to be directly below the trigger.\n *\n * @since 2.8.0\n *\n */\n\nconst positionQuickActionMenu = () => {\n\tconst adminBar = document.getElementById( 'wpadminbar' );\n\tconst barOffset = adminBar ? adminBar.offsetHeight : 0;\n\tconst offset = getCoords( state.activeAction );\n\tconst spaceBelow = window.innerHeight - offset.bottom;\n\n\tif ( spaceBelow - el.activeActionMenu.offsetHeight < 20 ) {\n\t\tconst topOffset = document.body.classList.contains(\n\t\t\t'gflow-grid--fullscreen-active'\n\t\t)\n\t\t\t? state.activeAction.offsetHeight\n\t\t\t: 0;\n\t\tel.activeActionMenu.style.marginTop = `-${\n\t\t\ttopOffset + el.activeActionMenu.offsetHeight\n\t\t}px`;\n\t\tel.activeActionMenu.style.top = `${\n\t\t\toffset.top + state.activeAction.offsetHeight - barOffset\n\t\t}px`;\n\t} else {\n\t\tconst bottomOffset = document.body.classList.contains(\n\t\t\t'gflow-grid--fullscreen-active'\n\t\t)\n\t\t\t? state.activeAction.offsetHeight\n\t\t\t: state.activeAction.offsetHeight * 2;\n\t\tel.activeActionMenu.style.top = `${\n\t\t\toffset.top + bottomOffset - barOffset\n\t\t}px`;\n\t}\n\tel.activeActionMenu.style.left = `${ offset.left }px`;\n};\n\n/**\n * @function handleKeyEvents\n * @description Handles accessibility focus looping on the menu using the focusLoop util.\n *\n * @param {KeyboardEvent} e\n */\n\nconst handleKeyEvents = ( e ) =>\n\tfocusLoop(\n\t\te,\n\t\tstate.activeAction,\n\t\tel.activeActionMenu,\n\t\tcloseQuickActionMenu\n\t);\n\n/**\n * @function openQuickActionMenu\n * @description Inject quick actions menu to dom, appended to body as ag grid uses translate for positioning.\n *\n * @since 2.8.0\n *\n * @param  entryId    {number} The entry id.\n * @param  actionData {object} The actiondata object.\n * @param  entryUrl   {string} The url to the details screen\n * @param  e          The event object.\n */\n\nconst openQuickActionMenu = ( entryId, actionData, entryUrl, e ) => {\n\tstate.actionMenuOpen = true;\n\tstate.activeActionMenuEntryId = entryId;\n\tstate.activeActionMenuEntryUrl = entryUrl;\n\tconst menu = inboxTemplates.actionsMenu( entryUrl, actionData.actions );\n\tdocument.body.insertAdjacentHTML( 'beforeend', menu );\n\tel.activeActionMenu = getNodes( 'gflow-quick-actions-menu' )[ 0 ];\n\tel.activeActionMenuNote = getNodes(\n\t\t'gflow-quick-actions-menu-note',\n\t\tfalse,\n\t\tel.activeActionMenu\n\t)[ 0 ];\n\tel.activeActionMenuSubmit = getNodes(\n\t\t'[data-js=\"gflow-quick-actions-menu-note-action\"][data-action=\"submit\"]',\n\t\tfalse,\n\t\tel.activeActionMenu,\n\t\ttrue\n\t)[ 0 ];\n\tif ( e.key === 'Enter' ) {\n\t\tgetNodes( 'gflow-quick-actions-menu-trigger', false, el.activeActionMenu )[ 0 ].focus( { preventScroll: true } );\n\t}\n\tpositionQuickActionMenu();\n\tel.activeActionMenu.addEventListener( 'keydown', handleKeyEvents );\n};\n\n/**\n * @function closeQuickActionMenu\n * @description Remove the quick actions menu from dom.\n *\n * @since 2.8.0\n *\n */\n\nconst closeQuickActionMenu = () => {\n\tel.activeActionMenu.parentNode.removeChild( el.activeActionMenu );\n\tstate.activeAction = null;\n\tel.activeActionMenu = null;\n\tstate.actionMenuOpen = false;\n};\n\n/**\n * @function handleQuickActions\n * @description Handle all state and rendering for displaying the quick actions menu.\n *\n * @since 2.8.0\n *\n */\n\nexport const handleQuickActions = ( e ) => {\n\tconst trigger = e.delegateTarget;\n\tconst entryId = Number( trigger.dataset.id );\n\tconst entryUrl = trigger.dataset.url;\n\tconst actionData = state.actionData.filter(\n\t\t( d ) => Number( d.entryId ) === entryId\n\t)[ 0 ];\n\tstate.activeActionKey = e.key;\n\tstate.activeGridNode = getClosest(\n\t\ttrigger,\n\t\t'[data-js=\"gflow-inbox\"]'\n\t);\n\tstate.activeRowNode = getClosest(\n\t\ttrigger,\n\t\t'.ag-row'\n\t);\n\tstate.activeGrid = state.activeGridNode.dataset.gridId;\n\t// another menu is open, close that one first\n\tif ( state.actionMenuOpen && state.activeAction !== trigger ) {\n\t\tcloseQuickActionMenu();\n\t}\n\n\tif ( state.actionMenuOpen ) {\n\t\tcloseQuickActionMenu();\n\t} else {\n\t\tstate.activeAction = trigger;\n\t\topenQuickActionMenu( entryId, actionData, entryUrl, e );\n\t}\n};\n\n/**\n * @function maybeCloseQuickActions\n * @description Handle body clicks. If not inside the active menu, close that menu.\n *\n * @since 2.8.0\n *\n * @param  e {Event} The event object.\n */\n\nconst maybeCloseQuickActions = ( e ) => {\n\tif ( ! state.actionMenuOpen ) {\n\t\treturn;\n\t}\n\tif (\n\t\t! (\n\t\t\te.target === getNodes( 'gform-loading-mask' )[ 0 ] ||\n\t\t\te.target === state.activeAction ||\n\t\t\tel.activeActionMenu.contains( e.target )\n\t\t)\n\t) {\n\t\tcloseQuickActionMenu();\n\t}\n};\n\n/**\n * @function handleResize\n * @description Handle resize events, not debounced here for fluid updates, be careful and watch perf!\n *\n * @since 2.8.0\n *\n */\n\nconst handleResize = () => {\n\tif ( state.actionMenuOpen ) {\n\t\tpositionQuickActionMenu();\n\t}\n};\n\n/**\n * @function bindEvents\n * @description Bind event handlers.\n *\n * @since 2.8.0\n *\n */\n\nconst bindEvents = () => {\n\tdelegate(\n\t\tdocument.body,\n\t\t'[data-js=\"gflow-quick-actions-trigger\"]',\n\t\t'click',\n\t\thandleQuickActions\n\t);\n\n\tdelegate(\n\t\tdocument.body,\n\t\t'[data-js=\"gflow-quick-actions-menu-trigger\"]',\n\t\t'click',\n\t\thandleQuickActionsMenuTrigger\n\t);\n\n\tdelegate(\n\t\tdocument.body,\n\t\t'[data-js=\"gflow-quick-actions-menu-note\"]',\n\t\t'keyup',\n\t\thandleQuickActionsMenuNote\n\t);\n\n\tdelegate(\n\t\tdocument.body,\n\t\t'[data-js=\"gflow-quick-actions-menu-note-action\"]',\n\t\t'click',\n\t\thandleQuickActionsMenuNoteAction\n\t);\n\n\tdocument.addEventListener( 'click', maybeCloseQuickActions );\n\twindow.addEventListener( 'resize', handleResize );\n};\n\n/**\n * @function init\n * @description Kick off this module's functionality.\n *\n * @since 2.8.0\n *\n */\n\nconst init = () => {\n\tbindEvents();\n};\n\nexport default init;\n","import _ from 'lodash';\nimport { delegate, getNodes } from '@gravityforms/utils';\nimport { handleGridStateChange, setGridInitialState } from './grid-state';\nimport { handleQuickActions } from './quick-actions';\nimport { redirectToEntryEdit } from '../utils/url';\n\nimport instances from './instances';\nimport options from './options';\nimport state from './state';\n\n/**\n * @function showQuickActions\n * @description Show the quick actions menu and focus it for key events.\n *\n * @since 2.8.0\n *\n * @param  e The ag grid event object\n */\n\nconst showQuickActions = ( e ) => {\n\tconst delegateTarget = getNodes( 'gflow-quick-actions-trigger', false, e.event.target )[ 0 ];\n\tif ( ! delegateTarget ) {\n\t\treturn;\n\t}\n\n\thandleQuickActions( {\n\t\tdelegateTarget,\n\t\tkey: 'Enter',\n\t} );\n};\n\n/**\n * @function handleEntryLinkEvents\n * @description Handles clicks on the entry details link in a grid cell and suppresses it for certain cases.\n *\n * @since 2.8.3\n *\n * @param {MouseEvent} e The ag grid event object\n */\n\nconst handleEntryLinkEvents = ( e ) => {\n\tif ( state.dragging ) {\n\t\te.preventDefault();\n\t}\n};\n\n/**\n * @function gridCellClicked\n * @description Handles redirecting to the entry detail on grid cell click.\n *\n * @since 2.8.0\n *\n * @param  e The ag grid event object\n */\n\nconst gridCellClicked = ( e ) => {\n\tif ( state.dragging || e.column.colId === 'actions' || ! state.openInNewTab || e.event.type === 'click' ) {\n\t\treturn;\n\t}\n\tredirectToEntryEdit( e.data.url_entry );\n};\n\n/**\n * @function gridCellKeyEvents\n * @description Handles key events for the cells.\n *\n * @since 2.8.0\n *\n * @param  e The ag grid event object\n */\n\nconst gridCellKeyEvents = ( e ) => {\n\tif ( e.event.key !== 'Enter' ) {\n\t\treturn;\n\t}\n\tif ( e.column.colId === 'actions' ) {\n\t\tshowQuickActions( e );\n\t\treturn;\n\t}\n\tredirectToEntryEdit( e.data.url_entry );\n};\n\n/**\n * @function gridReady\n * @description Handle the grid initialized event\n *\n * @since @since 2.8.0\n *\n * @param {Event}  event  The ag grid event object\n * @param {string} gridId The ag grid id string\n */\n\nconst gridReady = ( event, gridId ) => {\n\tsetGridInitialState( gridId );\n};\n\n/**\n * @function bindGridEvents\n * @description Setup all grid events for this instance.\n *\n * @since 2.8.0\n *\n * @param {string} gridId Id of the grid\n */\n\nconst bindGridEvents = ( gridId ) => {\n\tconst grid = getNodes( `[data-grid-id=\"${ gridId }\"]`, false, document, true )[ 0 ];\n\tinstances.gridOptions[ gridId ].onGridReady = ( e ) =>\n\t\tgridReady( e, gridId );\n\tinstances.gridOptions[ gridId ].onCellClicked = ( e ) =>\n\t\tgridCellClicked( e );\n\tinstances.gridOptions[ gridId ].onCellKeyPress = ( e ) =>\n\t\tgridCellKeyEvents( e );\n\toptions.gridMutationEvents.forEach( ( functionName ) => {\n\t\tinstances.gridOptions[ gridId ][ functionName ] = _.debounce(\n\t\t\t( e ) => handleGridStateChange( e, gridId ),\n\t\t\t200,\n\t\t\tfalse\n\t\t);\n\t} );\n\n\tdelegate( grid, '[data-js=\"inbox-details-link\"]', 'click', handleEntryLinkEvents );\n};\n\nexport default bindGridEvents;\n","/**\n * @function intComparator\n * @description Function used by ag grid when sorting numeric columns\n *\n * @since 2.8.0\n *\n * @param {...*} args The args sent to this method, which are\n *                    {String}  The current column object.\n *                    {String}  The first value to compare.\n *                    {String}  The second value to compare.\n *                    {Object}  The node representing the first row.\n *                    {Object}  The node representing the second row.\n *                    {Boolean} Whether the current sort is inverted.\n *\n * @return {number} Either -1, 0, or 1.\n */\n\nexport const intComparator = ( ...args ) => {\n\tconst value1 = args[ 1 ];\n\tconst value2 = args[ 2 ];\n\n\treturn Math.sign( parseInt( value1 ) - parseInt( value2 ) );\n};\n\n/**\n * @function dateComparator\n * @description Function used by ag grid when sorting date columns\n *\n * @since 2.8.0\n *\n * @param {...*} args The args sent to this method, which are\n *                    {String} The current column object.\n *                    {Date}   A Date Object representing the selected Calendar date at Midnight.\n *                    {String} The current cell value being compared.\n *\n * @return {number} Either -1, 0, or 1.\n */\n\nexport const dateComparator = ( ...args ) => {\n\tconst dateOne =\n\t\ttypeof args[ 1 ] === 'object'\n\t\t\t? args[ 1 ]\n\t\t\t: new Date( args[ 1 ] * 1000 );\n\tconst dateTwo = new Date( args[ 2 ] * 1000 );\n\n\tlet response = 0;\n\n\tdateTwo.setDate( dateTwo.getUTCDate() );\n\tdateTwo.setMonth( dateTwo.getUTCMonth() );\n\n\tdateOne.setHours( 0, 0, 0, 0 );\n\tdateTwo.setHours( 0, 0, 0, 0 );\n\n\tif ( dateTwo < dateOne ) {\n\t\tresponse = -1;\n\t} else if ( dateTwo > dateOne ) {\n\t\tresponse = 1;\n\t}\n\n\t// This is a filter call, not a sort call. Return unmodified result.\n\tif ( typeof args[ 5 ] === 'undefined' ) {\n\t\treturn response;\n\t}\n\n\t// Sort calls need to work in the opposite direction, reverse the result.\n\treturn response * -1;\n};\n\n/**\n * @function humanReadableGetter\n * @description Get human-readable text from displayKey.\n *\n * @since 2.8.0\n *\n * @param {object} params The current params for the column.\n *\n * @return {*} The human-readable value.\n */\n\nexport const humanReadableGetter = ( params ) => {\n\tconst displayKey = params.colDef.displayKey;\n\treturn params.data[ displayKey ];\n};\n\n/**\n * @function applyColumnComparator\n * @description Apply a comparator based on column type. String or int.\n *\n * @since 2.8.0\n *\n * @param {object} column\n * @return {*}\n */\n\nexport const applyColumnComparator = ( column ) => {\n\tcolumn.valueFormatter = humanReadableGetter;\n\n\tif ( column.compareType === 'string' ) {\n\t\treturn column;\n\t}\n\n\tif ( column.compareType === 'date' ) {\n\t\tcolumn.comparator = dateComparator.bind( null, column );\n\t\tcolumn.filterParams = {\n\t\t\tcomparator: dateComparator.bind( null, column ),\n\t\t\tinRangeInclusive: true,\n\t\t};\n\t\tcolumn.filter = 'agDateColumnFilter';\n\n\t\treturn column;\n\t}\n\n\tcolumn.comparator = intComparator.bind( null, column );\n\n\treturn column;\n};\n","/**\n * @class CellLinkRenderer\n * @description Injects the link into each cell for the workflow detail page.\n *\n * @since 2.8.3\n *\n * @type {CellLinkRenderer}\n */\nexport const cellLinkRenderer = class CellLinkRenderer {\n\tinit( params ) {\n\t\tthis.eGui = document.createElement( 'div' );\n\t\tthis.eGui.innerHTML = `\n\t\t\t<span>${ params.valueFormatted }</span>\n\t\t\t<a \n\t\t\t\tclass=\"gflow-inbox__entry-cell-link\" \n\t\t\t\tdata-js=\"inbox-details-link\" \n\t\t\t\thref=\"${ params.node.data.url_entry }\" \n\t\t\t\ttabindex=\"-1\"\n\t\t\t></a>\n\t\t`;\n\t}\n\n\tgetGui() {\n\t\treturn this.eGui;\n\t}\n};\n","import config from 'gflow-config';\nimport { template } from 'lodash';\n\n/**\n * Get your endpoints safely here first with optional chaining\n */\n\nexport const endpoints = config?.endpoints;\n\n/**\n * Now map them to action names and add templates as needed\n */\n\nconst getPathMap = () => {\n\tconst map = {};\n\n\t// Add product to a project\n\t// example:\n\t// request('example', { method: 'POST', restParams: { project_id: int }, json: { space: int, items: [{ post_id: int, configuration: '', quantity: int }] }}).then(data => console.log(data))\n\t// Accepted properties in the JSON body are\n\t// space (the (optional) ID of the selected space within the project) and\n\t// items, an array of example items.\n\tfor ( const endpoint in endpoints ) {\n\t\tconst data = endpoints[ endpoint ];\n\t\tmap[ endpoint ] = {\n\t\t\tendpoint: template( `${ data.path }${ data.rest_params }` ),\n\t\t\tnonce: data.nonce,\n\t\t};\n\t}\n\n\treturn map;\n};\n\nexport const PATH_MAP = getPathMap();\n","import config from 'gflow-config';\nimport { PATH_MAP } from 'common/config/request';\nimport { is, omit, startsWith, isEmpty } from 'ramda';\nimport { objectToFormData } from '@gravityforms/utils';\nimport { stringify } from 'query-string';\nimport stripTags from 'underscore.string/stripTags';\nimport trim from 'underscore.string/trim';\nimport unescapeHTML from 'underscore.string/unescapeHTML';\nimport { pickBy, identity } from 'lodash';\n\n// reasonably generic post (or get)\n// pathKey must be one of PATH_MAP\n// if pathKey references a template function,\n// then options should have a restParams key, which functions as a dictionary for the url template\n// can also have a params key, which is a dict of queryParams\n// you can also add other valid fetch options, to options (such as method and body)\n/**\n * @function request\n * @description The request module abstracts away most of the pain of dealing with raw fetch.\n * Basic principles:\n * When a base_path needs variables in it, use the template function as seen below and pass those as \"restParams\" in your options\n * When you need query args appended for a get, pass them as \"params\" in your options object\n * When you want to POST set method: 'POST' and if passing json body set json: { data } in your options\n *\n * @since 2.8.0\n *\n * @param  pathKey {string} The path key to use when mapping.\n * @param  options {object} The options for the request.\n *\n * @return {Promise<Response | {error: *}>}\n */\nexport default async function request( pathKey, options = {} ) {\n\tconst defaultOptions = { method: 'GET', ...options };\n\tconst newOptions = omit( [ 'body' ], defaultOptions );\n\n\tif ( ! pathKey || ! PATH_MAP[ pathKey ] ) {\n\t\tthrow new Error( `Unknown pathKey: ${ pathKey }` );\n\t}\n\tconst host = newOptions.baseUrl || config.site_url;\n\tlet path = PATH_MAP[ pathKey ].endpoint;\n\tif ( is( Function, path ) ) {\n\t\tpath = PATH_MAP[ pathKey ].endpoint( {\n\t\t\t...options.body,\n\t\t\t...newOptions.restParams,\n\t\t} );\n\t}\n\tconsole.log( host );\n\tlet url = `${ host }${ path }`;\n\n\t// encode as multipart/form-data\n\tif ( newOptions.method !== 'GET' && newOptions.method !== 'HEAD' ) {\n\t\tconst parseBody = options.body ? options.body : {};\n\t\tnewOptions.body = objectToFormData( parseBody );\n\t}\n\n\t// todo: the real fix here is to check the content-type and encode as required,\n\t// since body is already an associative array\n\t// override if POSTing json\n\tif ( newOptions.json ) {\n\t\tnewOptions.body = JSON.stringify( newOptions.json );\n\t}\n\n\t// any params destined to become query parameters\n\tconst params = newOptions.params || {};\n\tif ( params && ! isEmpty( params ) ) {\n\t\tconst filteredParams = pickBy( params, identity );\n\t\tconst p = stringify( filteredParams, { arrayFormat: 'bracket' } );\n\t\turl = `${ url }?${ p }`;\n\t}\n\n\tconst initialHeaders = PATH_MAP[ pathKey ].nonce\n\t\t? {\n\t\t\t'X-WP-Nonce': PATH_MAP[ pathKey ].nonce,\n\t\t\t'Content-Type': 'application/json',\n\t\t}\n\t\t: {};\n\n\tconst headers = newOptions.headers\n\t\t? {\n\t\t\t...initialHeaders,\n\t\t\t...newOptions.headers,\n\t\t}\n\t\t: initialHeaders;\n\n\tconsole.info( `Fetching url: ${ url }` );\n\tconsole.info( 'with options', { ...newOptions, body: newOptions.body } );\n\tconsole.info( 'and headers: ', headers );\n\tconst start = Date.now();\n\n\t// do the fetch\n\treturn window\n\t\t.fetch( url, { ...newOptions, headers } )\n\t\t.then( ( response ) => {\n\t\t\tif ( response.ok ) {\n\t\t\t\treturn response.text().then( ( text ) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst data = JSON.parse( text );\n\t\t\t\t\t\tconst time = Date.now() - start;\n\t\t\t\t\t\tconsole.info(\n\t\t\t\t\t\t\t`Data for ${ pathKey } in ${ time }ms:`,\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\tstatus: response.status,\n\t\t\t\t\t\t\ttotalPages: response.headers.get(\n\t\t\t\t\t\t\t\t'x-wp-totalpages'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\ttotalPosts: response.headers.get( 'x-wp-total' ),\n\t\t\t\t\t\t};\n\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\tconst message = trim(\n\t\t\t\t\t\t\tstripTags( unescapeHTML( text ) )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst err = new Error(\n\t\t\t\t\t\t\t`Invalid server response. ${ message }`\n\t\t\t\t\t\t);\n\t\t\t\t\t\terr.detail = {\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\tdata: message,\n\t\t\t\t\t\t\tstatus: response.status,\n\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// we get 40x's and 500's with valid json\n\t\t\t// we also seem to get errors with application/json which are actually html/text? (see #92408)\n\t\t\t// ie expected errors - need to make sure these get handled!!\n\t\t\tif (\n\t\t\t\tstartsWith(\n\t\t\t\t\tresponse.headers.get( 'Content-Type' ),\n\t\t\t\t\t'application/json'\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn response.text().then( ( text ) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst data = JSON.parse( text );\n\t\t\t\t\t\tconsole.info( `Data for ${ pathKey }:`, data );\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\tstatus: response.status,\n\t\t\t\t\t\t};\n\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\tconst message = trim(\n\t\t\t\t\t\t\tstripTags( unescapeHTML( text ) )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst err = new Error(\n\t\t\t\t\t\t\t`Invalid server response. ${ message }`\n\t\t\t\t\t\t);\n\t\t\t\t\t\terr.detail = {\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\tdata: message,\n\t\t\t\t\t\t\tstatus: response.status,\n\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// error\n\t\t\treturn response.text().then( ( data ) => {\n\t\t\t\tconst message = trim( stripTags( unescapeHTML( data ) ) );\n\t\t\t\tconst err = new Error(\n\t\t\t\t\t`Unknown server response. ${ message }`\n\t\t\t\t);\n\t\t\t\terr.detail = {\n\t\t\t\t\turl,\n\t\t\t\t\tdata: message,\n\t\t\t\t\tstatus: response.status,\n\t\t\t\t};\n\t\t\t\tthrow err;\n\t\t\t} );\n\t\t} )\n\t\t.catch( ( error ) => {\n\t\t\tconsole.info( JSON.stringify( error ) );\n\t\t\tconsole.info( error.detail );\n\t\t\treturn { error };\n\t\t} );\n}\n","import gflowConfig from 'gflow-config';\nimport request from '../../../utils/request';\n\nconst gflowStrings = window.gravityflow_inbox_strings || {};\n\n/**\n * @function getPref\n * @description Get preference from database by key using our request library.\n *\n * @since 2.8.0\n *\n * @param  key          {string}\n * @param  type         {string}\n * @param  view         {string}\n * @param  defaultValue {string}\n *\n * @return {Promise<*>}\n */\n\nexport const getPref = async ( key, type, view, defaultValue ) => {\n\treturn await request( 'inbox/preferences', {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\t'X-WP-Nonce': gflowStrings?.nonce,\n\t\t},\n\t\tparams: {\n\t\t\tkey,\n\t\t\ttype,\n\t\t\tuser_id: gflowConfig.user_id,\n\t\t\tview,\n\t\t\tdefault: defaultValue,\n\t\t},\n\t} );\n};\n\n/**\n * @function savePref\n * @description Save preference in database by key using our request library.\n *\n * @since 2.8.0\n *\n * @param  key   {string}\n * @param  value {string}\n * @param  type  {string}\n * @param  view  {string}\n *\n * @return {Promise<*>}\n */\n\nexport const savePref = async ( key, value, type, view ) => {\n\treturn await request( 'inbox/preferences', {\n\t\tmethod: 'PUT',\n\t\theaders: {\n\t\t\t'X-WP-Nonce': gflowStrings?.nonce,\n\t\t\t'Content-type': 'application/json; charset=UTF-8',\n\t\t},\n\t\tjson: {\n\t\t\tkey,\n\t\t\tvalue,\n\t\t\ttype,\n\t\t\tuser_id: gflowConfig.user_id,\n\t\t\tview,\n\t\t},\n\t} );\n};\n","import gflowConfig from 'gflow-config';\nimport ifVisible from 'ifvisible.js';\nimport { savePref } from '../utils/requests';\nimport { getClosest, checkNotificationPromise, getNodes } from '@gravityforms/utils';\n\nimport instances from './instances';\nimport state from './state';\n\nconst data = gflowConfig?.grids || {};\nconst i18n = gflowConfig?.i18n || {};\n\n/**\n * @function handleUpdateCounts\n * @description On refresh handles checking if there are new rows to notify about. and collates for all tables on state\n * variable newRowsOnUpdate.\n *\n * @since 2.8.0\n *\n * @param  gridId {number} The grid id.\n * @param  update {array} The update data in array.\n */\n\nexport const handleUpdateCounts = ( gridId, update ) => {\n\tconst api = instances.gridOptions[ gridId ].api;\n\tlet currentCount = 0;\n\tapi.forEachNode( () => {\n\t\tcurrentCount++;\n\t} );\n\tconst newCount =\n\t\tupdate.add.length - update.remove.length + update.update.length;\n\n\tstate.newRowsOnUpdate = state.newRowsOnUpdate + ( newCount - currentCount );\n};\n\n/**\n * @function maybePushNotify\n * @description Checks for needed data and then notifies if all cases are met.\n *\n * @since 2.8.0\n *\n * @param  gridId {number} The grid id.\n */\n\nconst maybePushNotify = ( gridId ) => {\n\tif ( ! gridId ) {\n\t\treturn;\n\t}\n\tif ( ! data[ gridId ].push_enabled ) {\n\t\treturn;\n\t}\n\n\tconst currentCount = instances.gridOptions[\n\t\tgridId\n\t].api.getDisplayedRowCount();\n\n\tif ( currentCount === state.previousRowCount ) {\n\t\treturn;\n\t}\n\n\tconst addArray = state.latestUpdateData.add[ 0 ];\n\tconst id = `noti-${ addArray.id }`;\n\n\tinstances.notifications[ id ] = new window.Notification(\n\t\ti18n.inbox_notification_title,\n\t\t{\n\t\t\tbody: i18n.new_inbox_items,\n\t\t}\n\t);\n\tstate.previousRowCount = currentCount;\n\n\tinstances.notifications[ id ].addEventListener(\n\t\t'click',\n\t\t( e ) => {\n\t\t\tif ( state.latestUpdateData.add.length > 1 ) {\n\t\t\t\twindow.parent.focus();\n\t\t\t\twindow.focus();\n\t\t\t\te.target.close();\n\t\t\t} else {\n\t\t\t\twindow.open( addArray.url_entry, id ).focus();\n\t\t\t}\n\t\t},\n\t\tfalse\n\t);\n};\n\n/**\n * @function maybeHandleNotifications\n * @description If the tab is not focused, update doc title and maybe send push notification if enabled to user.\n *\n * @since 2.8.0\n *\n * @param  gridId {number} The grid id.\n */\n\nexport const maybeHandleNotifications = ( gridId = null ) => {\n\t// tab visible, set to zero and bail\n\tif ( ifVisible.now() ) {\n\t\tstate.newRowsOnUpdate = 0;\n\t\tdocument.title = state.cleanDocTitle;\n\t\treturn;\n\t}\n\t// tab is not focused, update title with counts to give indicator of new entries\n\tif ( state.newRowsOnUpdate > 0 ) {\n\t\tdocument.title = `(${ state.newRowsOnUpdate }) ${ state.cleanDocTitle }`;\n\t\tmaybePushNotify( gridId );\n\t} else {\n\t\tdocument.title = state.cleanDocTitle;\n\t}\n};\n\n/**\n * @function handlePermission\n * @description Saves the push notification preference for a grid id.\n *\n * @since 2.8.0\n *\n * @param  permission {string} The permission string.\n * @param  gridId     {number} The grid id.\n */\n\nconst handlePermission = ( permission, gridId ) => {\n\tif ( permission === 'granted' ) {\n\t\tsavePref( 'push_enabled', true, 'view', gridId );\n\t\tdata[ gridId ].push_enabled = true;\n\t} else {\n\t\tsavePref( 'push_enabled', false, 'view', gridId );\n\t\tdata[ gridId ].push_enabled = false;\n\t}\n};\n\n/**\n * @function handlePushNotificationsToggle\n * @description Handles requesting permission for notifications.\n *\n * @since 2.8.0\n *\n * @param  input {HTMLInputElement} The toggle element.\n */\n\nexport const handlePushNotificationsToggle = ( input ) => {\n\tif ( ! ( 'Notification' in window ) ) {\n\t\talert( i18n.browser_notifications_error ); // eslint-disable-line\n\t\treturn;\n\t}\n\tconst gridContainerParent = getClosest( input, '.gform-flyout' )\n\t\t.previousElementSibling;\n\tconst gridContainer = getNodes( 'gflow-inbox', false, gridContainerParent )[ 0 ];\n\tif ( input.checked ) {\n\t\tif ( checkNotificationPromise() ) {\n\t\t\twindow.Notification.requestPermission().then( ( permission ) => {\n\t\t\t\thandlePermission( permission, gridContainer.dataset.gridId );\n\t\t\t} );\n\t\t} else {\n\t\t\twindow.Notification.requestPermission( ( permission ) => {\n\t\t\t\thandlePermission( permission, gridContainer.dataset.gridId );\n\t\t\t} );\n\t\t}\n\t} else {\n\t\tsavePref( 'push_enabled', false, '', gridContainer.dataset.gridId );\n\t\tdata[ gridContainer.dataset.gridId ].push_enabled = false;\n\t}\n};\n\n/**\n * @function checkNotificationStatus\n * @description If push notifications were set to true, confirm this session has notification permissions.\n *\n * @since 2.8.0\n *\n */\n\nexport const checkNotificationStatus = () => {\n\tif ( ! state.pushEnabled || typeof window.Notification === 'undefined' ) {\n\t\treturn;\n\t}\n\tif ( window.Notification.permission === 'granted' ) {\n\t\treturn;\n\t}\n\twindow.Notification.requestPermission();\n};\n\n/**\n * @function bindEvents\n * @description Bind event handlers.\n *\n * @since 2.8.0\n *\n */\n\nconst bindEvents = () => {\n\tifVisible.on( 'focus', () => {\n\t\tstate.notificationShown = false;\n\t\tmaybeHandleNotifications();\n\t} );\n\n\tifVisible.on( 'blur', () => {\n\t\tstate.openInNewTab = false;\n\t} );\n};\n\n/**\n * @function init\n * @description Kick off this module's functionality.\n *\n * @since 2.8.0\n *\n */\n\nconst init = () => {\n\tbindEvents();\n};\n\nexport default init;\n","import gflowConfig from 'gflow-config';\nimport { delegate } from '@gravityforms/utils';\nimport { handlePushNotificationsToggle } from './notifications';\nimport * as gridTemplates from 'templates/components/grid';\nimport instances from './instances';\nimport Flyout from '@gravityforms/components/html/admin/Flyout';\nimport * as inboxTemplates from 'templates/grids/inbox';\n\nconst data = gflowConfig?.grids || {};\nconst i18n = gflowConfig?.i18n || {};\n\n/**\n * @function initializeSettings\n * @description Inject the settings trigger and instantiate the flyout.\n *\n * @since 2.8.0\n *\n * @param  grid      {HTMLElement} The grid element.\n * @param  gridId    {string} The grid id.\n * @param  gridIndex {number} The grid index on the page.\n */\n\nexport const initializeSettings = ( grid, gridId, gridIndex ) => {\n\tgrid.insertAdjacentHTML(\n\t\t'afterbegin',\n\t\tgridTemplates.settingToggle(\n\t\t\t'inbox-settings',\n\t\t\ti18n.toggle_settings_title,\n\t\t\tgridId\n\t\t)\n\t);\n\n\tgrid.insertAdjacentHTML(\n\t\t'afterbegin',\n\t\tgridTemplates.fullscreenToggle(\n\t\t\t'inbox-fullscreeen',\n\t\t\ti18n.toggle_fullscreen_title\n\t\t)\n\t);\n\n\tgrid.insertAdjacentHTML(\n\t\t'afterbegin',\n\t\tgridTemplates.clearFiltersToggle(\n\t\t\t'inbox-clear-filters',\n\t\t\ti18n.toggle_clear_filters_title\n\t\t)\n\t);\n\n\tinstances.flyouts[ `${ gridId }-${ gridIndex }` ] = new Flyout( {\n\t\tcontent: inboxTemplates.settings( data[ gridId ], `${ gridId }-${ gridIndex }` ),\n\t\tmaxWidth: 650,\n\t\tposition: 'absolute',\n\t\ttarget: `.gflow-inbox.gflow-grid[data-grid-id=\"${ gridId }\"]`,\n\t\ttitle: i18n.inbox_settings,\n\t\ttriggers: `[data-js=\"inbox-settings\"][data-grid-id=\"${ gridId }\"]`,\n\t\twrapperClasses: 'gform-flyout gform-flyout--inbox-settings',\n\t} );\n};\n\n/**\n * @function handleSettingsChange\n * @description Handle changes to the settings for the inbox.\n *\n * @since 2.8.0\n *\n * @param  e {Event} The event object.\n */\n\nconst handleSettingsChange = ( e ) => {\n\t// switch based on setting name to handle cases, name is also value stored and passed in on init from php in config\n\tif ( e.delegateTarget.name === 'inbox-setting--push-enabled' ) {\n\t\thandlePushNotificationsToggle( e.delegateTarget );\n\t}\n};\n\n/**\n * @function bindEvents\n * @description Bind event handlers.\n *\n * @since 2.8.0\n *\n */\n\nconst bindEvents = () => {\n\tdelegate(\n\t\tdocument.body,\n\t\t'[data-js=\"inbox-setting\"]',\n\t\t'click',\n\t\thandleSettingsChange\n\t);\n};\n\n/**\n * @function init\n * @description Kick off this module's functionality.\n *\n * @since 2.8.0\n *\n */\n\nconst init = () => {\n\tbindEvents();\n};\n\nexport default init;\n","/**\n * @module locale\n * @description The language locale for our inbox grid.\n *\n * @since 2.8.3\n *\n */\n\nimport gflowConfig from 'gflow-config';\n\nconst i18n = gflowConfig?.i18n || {};\n\nexport default {\n\t// Set Filter\n\tselectAll: i18n.ag_grid.selectAll,\n\tselectAllSearchResults: i18n.ag_grid.selectAllSearchResults,\n\tsearchOoo: i18n.ag_grid.searchOoo,\n\tblanks: i18n.ag_grid.blanks,\n\tnoMatches: i18n.ag_grid.noMatches,\n\n\t// Number Filter & Text Filter\n\tfilterOoo: i18n.ag_grid.filterOoo,\n\tequals: i18n.ag_grid.equals,\n\tnotEqual: i18n.ag_grid.notEqual,\n\tblank: i18n.ag_grid.blank,\n\tnotBlank: i18n.ag_grid.notBlank,\n\tempty: i18n.ag_grid.empty,\n\n\t// Number Filter\n\tlessThan: i18n.ag_grid.lessThan,\n\tgreaterThan: i18n.ag_grid.greaterThan,\n\tlessThanOrEqual: i18n.ag_grid.lessThanOrEqual,\n\tgreaterThanOrEqual: i18n.ag_grid.greaterThanOrEqual,\n\tinRange: i18n.ag_grid.inRange,\n\tinRangeStart: i18n.ag_grid.inRangeStart,\n\tinRangeEnd: i18n.ag_grid.inRangeEnd,\n\n\t// Text Filter\n\tcontains: i18n.ag_grid.contains,\n\tnotContains: i18n.ag_grid.notContains,\n\tstartsWith: i18n.ag_grid.startsWith,\n\tendsWith: i18n.ag_grid.endsWith,\n\n\t// Date Filter\n\tdateFormatOoo: i18n.ag_grid.dateFormatOoo,\n\n\t// Filter Conditions\n\tandCondition: i18n.ag_grid.andCondition,\n\torCondition: i18n.ag_grid.orCondition,\n\n\t// Filter Buttons\n\tapplyFilter: i18n.ag_grid.applyFilter,\n\tresetFilter: i18n.ag_grid.resetFilter,\n\tclearFilter: i18n.ag_grid.clearFilter,\n\tcancelFilter: i18n.ag_grid.cancelFilter,\n\n\t// Filter Titles\n\ttextFilter: i18n.ag_grid.textFilter,\n\tnumberFilter: i18n.ag_grid.numberFilter,\n\tdateFilter: i18n.ag_grid.dateFilter,\n\tsetFilter: i18n.ag_grid.setFilter,\n\n\t// Side Bar\n\tcolumns: i18n.ag_grid.columns,\n\tfilters: i18n.ag_grid.filters,\n\n\t// columns tool panel\n\tpivotMode: i18n.ag_grid.pivotMode,\n\tgroups: i18n.ag_grid.groups,\n\trowGroupColumnsEmptyMessage: i18n.ag_grid.rowGroupColumnsEmptyMessage,\n\tvalues: i18n.ag_grid.values,\n\tvalueColumnsEmptyMessage: i18n.ag_grid.valueColumnsEmptyMessage,\n\tpivots: i18n.ag_grid.pivots,\n\tpivotColumnsEmptyMessage: i18n.ag_grid.pivotColumnsEmptyMessage,\n\n\t// Header of the Default Group Column\n\tgroup: i18n.ag_grid.group,\n\n\t// Row Drag\n\trowDragRows: i18n.ag_grid.rowDragRows,\n\n\t// Other\n\tloadingOoo: i18n.ag_grid.loadingOoo,\n\tnoRowsToShow: i18n.ag_grid.noRowsToShow,\n\tenabled: i18n.ag_grid.enabled,\n\n\t// Menu\n\tpinColumn: i18n.ag_grid.pinColumn,\n\tpinLeft: i18n.ag_grid.pinLeft,\n\tpinRight: i18n.ag_grid.pinRight,\n\tnoPin: i18n.ag_grid.noPin,\n\tvalueAggregation: i18n.ag_grid.valueAggregation,\n\tautosizeThiscolumn: i18n.ag_grid.autosizeThiscolumn,\n\tautosizeAllColumns: i18n.ag_grid.autosizeAllColumns,\n\tgroupBy: i18n.ag_grid.groupBy,\n\tungroupBy: i18n.ag_grid.ungroupBy,\n\taddToValues: i18n.ag_grid.addToValues,\n\tremoveFromValues: i18n.ag_grid.removeFromValues,\n\taddToLabels: i18n.ag_grid.addToLabels,\n\tremoveFromLabels: i18n.ag_grid.removeFromLabels,\n\tresetColumns: i18n.ag_grid.resetColumns,\n\texpandAll: i18n.ag_grid.expandAll,\n\tcollapseAll: i18n.ag_grid.collapseAll,\n\tcopy: i18n.ag_grid.copy,\n\tctrlC: i18n.ag_grid.ctrlC,\n\tcopyWithHeaders: i18n.ag_grid.copyWithHeaders,\n\tcopyWithHeaderGroups: i18n.ag_grid.copyWithHeaderGroups,\n\tpaste: i18n.ag_grid.paste,\n\tctrlV: i18n.ag_grid.ctrlV,\n\texport: i18n.ag_grid.export,\n\tcsvExport: i18n.ag_grid.csvExport,\n\texcelExport: i18n.ag_grid.excelExport,\n\n\t// Enterprise Menu Aggregation and Status Bar\n\tsum: i18n.ag_grid.sum,\n\tmin: i18n.ag_grid.min,\n\tmax: i18n.ag_grid.max,\n\tnone: i18n.ag_grid.none,\n\tcount: i18n.ag_grid.count,\n\tavg: i18n.ag_grid.avg,\n\tfilteredRows: i18n.ag_grid.filteredRows,\n\tselectedRows: i18n.ag_grid.selectedRows,\n\ttotalRows: i18n.ag_grid.totalRows,\n\ttotalAndFilteredRows: i18n.ag_grid.totalAndFilteredRows,\n\tmore: i18n.ag_grid.more,\n\tto: i18n.ag_grid.to,\n\tof: i18n.ag_grid.of,\n\tpage: i18n.ag_grid.page,\n\tnextPage: i18n.ag_grid.nextPage,\n\tlastPage: i18n.ag_grid.lastPage,\n\tfirstPage: i18n.ag_grid.firstPage,\n\tpreviousPage: i18n.ag_grid.previousPage,\n\n\t// Pivoting\n\tpivotColumnGroupTotals: i18n.ag_grid.pivotColumnGroupTotals,\n\n\t// Enterprise Menu (Charts)\n\tpivotChartAndPivotMode: i18n.ag_grid.pivotChartAndPivotMode,\n\tpivotChart: i18n.ag_grid.pivotChart,\n\tchartRange: i18n.ag_grid.chartRange,\n\n\tcolumnChart: i18n.ag_grid.columnChart,\n\tgroupedColumn: i18n.ag_grid.groupedColumn,\n\tstackedColumn: i18n.ag_grid.stackedColumn,\n\tnormalizedColumn: i18n.ag_grid.normalizedColumn,\n\n\tbarChart: i18n.ag_grid.barChart,\n\tgroupedBar: i18n.ag_grid.groupedBar,\n\tstackedBar: i18n.ag_grid.stackedBar,\n\tnormalizedBar: i18n.ag_grid.normalizedBar,\n\n\tpieChart: i18n.ag_grid.pieChart,\n\tpie: i18n.ag_grid.pie,\n\tdoughnut: i18n.ag_grid.doughnut,\n\n\tline: i18n.ag_grid.line,\n\n\txyChart: i18n.ag_grid.xyChart,\n\tscatter: i18n.ag_grid.scatter,\n\tbubble: i18n.ag_grid.bubble,\n\n\tareaChart: i18n.ag_grid.areaChart,\n\tarea: i18n.ag_grid.area,\n\tstackedArea: i18n.ag_grid.stackedArea,\n\tnormalizedArea: i18n.ag_grid.normalizedArea,\n\n\thistogramChart: i18n.ag_grid.histogramChart,\n\n\tcombinationChart: i18n.ag_grid.combinationChart,\n\tcolumnLineCombo: i18n.ag_grid.columnLineCombo,\n\tAreaColumnCombo: i18n.ag_grid.AreaColumnCombo,\n\n\t// Charts\n\tpivotChartTitle: i18n.ag_grid.pivotChartTitle,\n\trangeChartTitle: i18n.ag_grid.rangeChartTitle,\n\tsettings: i18n.ag_grid.settings,\n\tdata: i18n.ag_grid.data,\n\tformat: i18n.ag_grid.format,\n\tcategories: i18n.ag_grid.categories,\n\tdefaultCategory: i18n.ag_grid.defaultCategory,\n\tseries: i18n.ag_grid.series,\n\txyValues: i18n.ag_grid.xyValues,\n\tpaired: i18n.ag_grid.paired,\n\taxis: i18n.ag_grid.axis,\n\tnavigator: i18n.ag_grid.navigator,\n\tcolor: i18n.ag_grid.color,\n\tthickness: i18n.ag_grid.thickness,\n\txType: i18n.ag_grid.xType,\n\tautomatic: i18n.ag_grid.automatic,\n\tcategory: i18n.ag_grid.category,\n\tnumber: i18n.ag_grid.number,\n\ttime: i18n.ag_grid.time,\n\txRotation: i18n.ag_grid.xRotation,\n\tyRotation: i18n.ag_grid.yRotation,\n\tticks: i18n.ag_grid.ticks,\n\twidth: i18n.ag_grid.width,\n\theight: i18n.ag_grid.height,\n\tlength: i18n.ag_grid.length,\n\tpadding: i18n.ag_grid.padding,\n\tspacing: i18n.ag_grid.spacing,\n\tchart: i18n.ag_grid.chart,\n\ttitle: i18n.ag_grid.title,\n\ttitlePlaceholder: i18n.ag_grid.titlePlaceholder,\n\tbackground: i18n.ag_grid.background,\n\tfont: i18n.ag_grid.font,\n\ttop: i18n.ag_grid.top,\n\tright: i18n.ag_grid.right,\n\tbottom: i18n.ag_grid.bottom,\n\tleft: i18n.ag_grid.left,\n\tlabels: i18n.ag_grid.labels,\n\tsize: i18n.ag_grid.size,\n\tminSize: i18n.ag_grid.minSize,\n\tmaxSize: i18n.ag_grid.maxSize,\n\tlegend: i18n.ag_grid.legend,\n\tposition: i18n.ag_grid.position,\n\tmarkerSize: i18n.ag_grid.markerSize,\n\tmarkerStroke: i18n.ag_grid.markerStroke,\n\tmarkerPadding: i18n.ag_grid.markerPadding,\n\titemSpacing: i18n.ag_grid.itemSpacing,\n\titemPaddingX: i18n.ag_grid.itemPaddingX,\n\titemPaddingY: i18n.ag_grid.itemPaddingY,\n\tlayoutHorizontalSpacing: i18n.ag_grid.layoutHorizontalSpacing,\n\tlayoutVerticalSpacing: i18n.ag_grid.layoutVerticalSpacing,\n\tstrokeWidth: i18n.ag_grid.strokeWidth,\n\toffset: i18n.ag_grid.offset,\n\toffsets: i18n.ag_grid.offsets,\n\ttooltips: i18n.ag_grid.tooltips,\n\tcallout: i18n.ag_grid.callout,\n\tmarkers: i18n.ag_grid.markers,\n\tshadow: i18n.ag_grid.shadow,\n\tblur: i18n.ag_grid.blur,\n\txOffset: i18n.ag_grid.xOffset,\n\tyOffset: i18n.ag_grid.yOffset,\n\tlineWidth: i18n.ag_grid.lineWidth,\n\tnormal: i18n.ag_grid.normal,\n\tbold: i18n.ag_grid.bold,\n\titalic: i18n.ag_grid.italic,\n\tboldItalic: i18n.ag_grid.boldItalic,\n\tpredefined: i18n.ag_grid.predefined,\n\tfillOpacity: i18n.ag_grid.fillOpacity,\n\tstrokeOpacity: i18n.ag_grid.strokeOpacity,\n\thistogramBinCount: i18n.ag_grid.histogramBinCount,\n\tcolumnGroup: i18n.ag_grid.columnGroup,\n\tbarGroup: i18n.ag_grid.barGroup,\n\tpieGroup: i18n.ag_grid.pieGroup,\n\tlineGroup: i18n.ag_grid.lineGroup,\n\tscatterGroup: i18n.ag_grid.scatterGroup,\n\tareaGroup: i18n.ag_grid.areaGroup,\n\thistogramGroup: i18n.ag_grid.histogramGroup,\n\tcombinationGroup: i18n.ag_grid.combinationGroup,\n\tgroupedColumnTooltip: i18n.ag_grid.groupedColumnTooltip,\n\tstackedColumnTooltip: i18n.ag_grid.stackedColumnTooltip,\n\tnormalizedColumnTooltip: i18n.ag_grid.normalizedColumnTooltip,\n\tgroupedBarTooltip: i18n.ag_grid.groupedBarTooltip,\n\tstackedBarTooltip: i18n.ag_grid.stackedBarTooltip,\n\tnormalizedBarTooltip: i18n.ag_grid.normalizedBarTooltip,\n\tpieTooltip: i18n.ag_grid.pieTooltip,\n\tdoughnutTooltip: i18n.ag_grid.doughnutTooltip,\n\tlineTooltip: i18n.ag_grid.lineTooltip,\n\tgroupedAreaTooltip: i18n.ag_grid.groupedAreaTooltip,\n\tstackedAreaTooltip: i18n.ag_grid.stackedAreaTooltip,\n\tnormalizedAreaTooltip: i18n.ag_grid.normalizedAreaTooltip,\n\tscatterTooltip: i18n.ag_grid.scatterTooltip,\n\tbubbleTooltip: i18n.ag_grid.bubbleTooltip,\n\thistogramTooltip: i18n.ag_grid.histogramTooltip,\n\tcolumnLineComboTooltip: i18n.ag_grid.columnLineComboTooltip,\n\tareaColumnComboTooltip: i18n.ag_grid.areaColumnComboTooltip,\n\tcustomComboTooltip: i18n.ag_grid.customComboTooltip,\n\tnoDataToChart: i18n.ag_grid.noDataToChart,\n\tpivotChartRequiresPivotMode: i18n.ag_grid.pivotChartRequiresPivotMode,\n\tchartSettingsToolbarTooltip: i18n.ag_grid.chartSettingsToolbarTooltip,\n\tchartLinkToolbarTooltip: i18n.ag_grid.chartLinkToolbarTooltip,\n\tchartUnlinkToolbarTooltip: i18n.ag_grid.chartUnlinkToolbarTooltip,\n\tchartDownloadToolbarTooltip: i18n.ag_grid.chartDownloadToolbarTooltip,\n\tseriesChartType: i18n.ag_grid.seriesChartType,\n\tseriesType: i18n.ag_grid.seriesType,\n\tsecondaryAxis: i18n.ag_grid.secondaryAxis,\n\n\t// ARIA\n\tariaHidden: i18n.ag_grid.ariaHidden,\n\tariaVisible: i18n.ag_grid.ariaVisible,\n\tariaChecked: i18n.ag_grid.ariaChecked,\n\tariaUnchecked: i18n.ag_grid.ariaUnchecked,\n\tariaIndeterminate: i18n.ag_grid.ariaIndeterminate,\n\tariaDefaultListName: i18n.ag_grid.ariaDefaultListName,\n\tariaColumnSelectAll: i18n.ag_grid.ariaColumnSelectAll,\n\tariaInputEditor: i18n.ag_grid.ariaInputEditor,\n\tariaDateFilterInput: i18n.ag_grid.ariaDateFilterInput,\n\tariaFilterList: i18n.ag_grid.ariaFilterList,\n\tariaFilterInput: i18n.ag_grid.ariaFilterInput,\n\tariaFilterColumnsInput: i18n.ag_grid.ariaFilterColumnsInput,\n\tariaFilterValue: i18n.ag_grid.ariaFilterValue,\n\tariaFilterFromValue: i18n.ag_grid.ariaFilterFromValue,\n\tariaFilterToValue: i18n.ag_grid.ariaFilterToValue,\n\tariaFilteringOperator: i18n.ag_grid.ariaFilteringOperator,\n\tariaColumn: i18n.ag_grid.ariaColumn,\n\tariaColumnList: i18n.ag_grid.ariaColumnList,\n\tariaColumnGroup: i18n.ag_grid.ariaColumnGroup,\n\tariaRowSelect: i18n.ag_grid.ariaRowSelect,\n\tariaRowDeselect: i18n.ag_grid.ariaRowDeselect,\n\tariaRowToggleSelection: i18n.ag_grid.ariaRowToggleSelection,\n\tariaRowSelectAll: i18n.ag_grid.ariaRowSelectAll,\n\tariaToggleVisibility: i18n.ag_grid.ariaToggleVisibility,\n\tariaSearch: i18n.ag_grid.ariaSearch,\n\tariaSearchFilterValues: i18n.ag_grid.ariaSearchFilterValues,\n\n\tariaRowGroupDropZonePanelLabel: i18n.ag_grid.ariaRowGroupDropZonePanelLabel,\n\tariaValuesDropZonePanelLabel: i18n.ag_grid.ariaValuesDropZonePanelLabel,\n\tariaPivotDropZonePanelLabel: i18n.ag_grid.ariaPivotDropZonePanelLabel,\n\tariaDropZoneColumnComponentDescription: i18n.ag_grid.ariaDropZoneColumnComponentDescription,\n\tariaDropZoneColumnValueItemDescription: i18n.ag_grid.ariaDropZoneColumnValueItemDescription,\n\n\t// ARIA Labels for Dialogs\n\tariaLabelColumnMenu: i18n.ag_grid.ariaLabelColumnMenu,\n\tariaLabelCellEditor: i18n.ag_grid.ariaLabelCellEditor,\n\tariaLabelDialog: i18n.ag_grid.ariaLabelDialog,\n\tariaLabelSelectField: i18n.ag_grid.ariaLabelSelectField,\n\tariaLabelTooltip: i18n.ag_grid.ariaLabelTooltip,\n\tariaLabelContextMenu: i18n.ag_grid.ariaLabelContextMenu,\n\tariaLabelSubMenu: i18n.ag_grid.ariaLabelSubMenu,\n\tariaLabelAggregationFunction: i18n.ag_grid.ariaLabelAggregationFunction,\n\n\t// Number Format (Status Bar, Pagination Panel)\n\tthousandSeparator: i18n.ag_grid.thousandSeparator,\n\tdecimalSeparator: i18n.ag_grid.decimalSeparator,\n};\n","import { Grid } from 'ag-grid-community';\nimport AgGridDateComponent from 'common/components/ag-grid-date';\nimport gflowConfig from 'gflow-config';\nimport { getNodes } from '@gravityforms/utils';\nimport bindGridEvents from './grid-events';\nimport { applyColumnComparator } from '../utils/comparators';\nimport { getGridId, getGridOptions } from '../utils/data';\nimport { cellLinkRenderer } from './cell-renderer';\nimport { actionsRenderer } from './quick-actions';\nimport { initializeSettings } from './settings';\nimport * as inboxTemplates from 'templates/grids/inbox';\n\nimport instances from './instances';\nimport state from './state';\nimport locale from './locale';\n\nconst data = gflowConfig?.grids || {};\nconst i18n = gflowConfig?.i18n || {};\n\n/**\n * @function initializeSearch\n * @description Inject the search input for the whole table instance.\n *\n * @since 2.8.0\n *\n */\n\nconst initializeSearch = ( grid ) => {\n\tgrid.insertAdjacentHTML( 'afterbegin', inboxTemplates.header() );\n};\n\n/**\n * @function initializeGrid\n * @description Initializes an ag grid instance on the passed containing div.\n *\n * @since 2.8.0\n *\n * @param {HTMLElement} grid      The grid container.\n * @param {number}      gridIndex The index of the grid on the page.\n */\n\nconst initializeGrid = ( grid, gridIndex ) => {\n\tconst gridId = getGridId( grid );\n\n\tif ( ! data[ gridId ]?.grid_options ) {\n\t\tconsole.error( `${ i18n.options_for_grid_not_found } ${ gridId }` );\n\t}\n\n\tgrid.setAttribute( 'data-grid-index', gridIndex );\n\tinstances.gridOptions[ gridId ] = getGridOptions( gridId );\n\n\tif ( data[ gridId ].push_enabled ) {\n\t\tstate.pushEnabled = true;\n\t}\n\n\tinstances.gridOptions[\n\t\tgridId\n\t].overlayNoRowsTemplate = `<span class=\"ag-overlay-no-rows-center\">${ i18n.no_entries }</span>`;\n\n\tbindGridEvents( gridId );\n\n\t// set locale and translations up\n\tinstances.gridOptions[ gridId ].localeText = locale;\n\n\t// apply special class to cells containing html (field based cols only)\n\tconst cellClassRules = {\n\t\t'gflow-inbox__html-cell': ( params ) => /<[a-z/][\\s\\S]*>/i.test( params.value ),\n\t};\n\tinstances.gridOptions[ gridId ].columnDefs.forEach( ( colDef ) => {\n\t\tif ( colDef.cellClassRules ) {\n\t\t\tcolDef.cellClassRules = cellClassRules;\n\t\t}\n\t} );\n\n\tinstances.gridOptions[ gridId ].getRowNodeId = ( row ) => {\n\t\treturn parseInt( row.id );\n\t};\n\n\tinstances.gridOptions[ gridId ].components = {\n\t\tactionsRenderer,\n\t\tcellLinkRenderer,\n\t\tagDateInput: AgGridDateComponent,\n\t};\n\n\t// set highlight border on left if in data\n\tinstances.gridOptions[ gridId ].getRowStyle = ( params ) => {\n\t\tif ( params.data.step_highlight ) {\n\t\t\treturn { borderLeft: `3px solid ${ params.data.step_highlight }` };\n\t\t}\n\t};\n\n\tinstances.gridOptions[ gridId ].columnDefs.forEach( ( column, index ) => {\n\t\tinstances.gridOptions[ gridId ].columnDefs[\n\t\t\tindex\n\t\t] = applyColumnComparator( column );\n\t} );\n\n\tinstances.grids[ gridId ] = new Grid(\n\t\tgrid,\n\t\tinstances.gridOptions[ gridId ]\n\t);\n\n\tinitializeSearch( grid );\n\tinitializeSettings( grid, gridId, gridIndex );\n\n\tsetTimeout( () => {\n\t\tgrid.classList.add( 'gflow-inbox--reveal' );\n\t\tgrid.parentElement.classList.add( 'gflow-inbox--reveal' );\n\n\t\tsetTimeout( () => {\n\t\t\tconst loader = getNodes( 'gflow-inbox-loader', false, grid.parentElement.parentElement )[ 0 ];\n\t\t\tloader.parentNode.removeChild( loader );\n\t\t}, 200 );\n\t}, 300 );\n};\n\nexport default initializeGrid;\n","/**\n * @function settingToggle\n * @description The gear icon for an ag grid instance that will trigger the settings flyout.\n *\n * @since 2.8.0\n *\n * @param  triggerId {string} The id for the trigger.\n * @param  title     {string} The a11y title for the trigger.\n * @param  gridId    {string} The grid id.\n *\n * @return {string}\n */\n\nexport const settingToggle = ( triggerId = 'grid-settings', title = '', gridId = '' ) =>\n\t`\n\t<button \n\t\tclass=\"gflow-grid__button gflow-grid__button--settings gflow-icon gflow-icon--settings\" \n\t\tdata-js=\"${ triggerId }\" \n\t\tdata-grid-id=\"${ gridId }\"\n\t\ttitle=\"${ title }\"\n\t></button>\n\t`;\n\n/**\n * @function fullscreenToggle\n * @description The fullscreen icon for making a table go full screen.\n *\n * @since 2.8.0\n *\n * @param  triggerId {string} The id for the trigger.\n * @param  title     {string} The a11y title for the trigger.\n *\n * @return {string}\n */\n\nexport const fullscreenToggle = ( triggerId = 'grid-fullscreen', title = '' ) =>\n\t`\n\t<button \n\t\tclass=\"gflow-grid__button gflow-grid__button--fullscreen gflow-icon gflow-icon--maximize-2\" \n\t\tdata-js=\"${ triggerId }\" \n\t\ttitle=\"${ title }\"\n\t></button>\n\t`;\n\n/**\n * @function clearFiltersToggle\n * @description The button to clear filters that are active.\n *\n * @since 2.8.0\n *\n * @param  triggerId {string} The id for the trigger.\n * @param  title     {string} The a11y title for the trigger.\n *\n * @return {string}\n */\n\nexport const clearFiltersToggle = ( triggerId = 'grid-clear-filters', title = '' ) =>\n\t`\n\t<button \n\t\tclass=\"gflow-grid__button gflow-grid__button--clear-filters gflow-icon gflow-icon--trash\" \n\t\tdata-js=\"${ triggerId }\" \n\t\ttitle=\"${ title }\"\n\t></button>\n\t`;\n","import gflowConfig from 'gflow-config';\nimport request from '../../../utils/request';\nimport { handleUpdateCounts, maybeHandleNotifications } from './notifications';\nimport { getIdsFromModel } from '../utils/data';\n\nimport state from './state';\nimport instances from './instances';\nimport el from './elements';\n\nconst data = gflowConfig?.grids || {};\n\n/**\n * @function refreshGrid\n * @description Refreshes data for the grid on a set interval, adding new entries to the stack.\n *\n * @since 2.8.0\n *\n * @param  gridId {string} The id of the grid.\n * @return {Promise<void>}\n */\n\nconst refreshGrid = async ( gridId ) => {\n\tconst current_ids = getIdsFromModel( gridId ); /* eslint-disable-line */\n\n\tconst response = await request( 'inbox/changes', {\n\t\tmethod: 'POST',\n\t\tbody: {\n\t\t\tgflow_access_token:\n\t\t\t\tdata[ gridId ]?.current_user_token || null,\n\t\t\tcurrent_ids, /* eslint-disable-line */\n\t\t\tsearch_args: JSON.stringify(\n\t\t\t\tdata[ gridId ]?.grid_options?.searchArgs || null\n\t\t\t),\n\t\t},\n\t} );\n\n\tstate.latestUpdateData = response.data;\n\thandleUpdateCounts( gridId, response.data );\n\tresponse.data.addIndex = 0;\n\tinstances.gridOptions[ gridId ].api.applyTransaction( response.data );\n};\n\n/**\n * @function setGridRefreshInterval\n * @description Poll grids for fresh data on a set interval and perform update operations.\n *\n * @since 2.8.0\n *\n */\n\nconst setGridRefreshInterval = () => {\n\tel.containers.forEach( ( grid ) => {\n\t\tif ( ! data[ grid.dataset.gridId ].fetch_enabled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tinstances.refreshTimers[ grid.dataset.gridId ] = setInterval( () => {\n\t\t\trefreshGrid( grid.dataset.gridId ).then( () => {\n\t\t\t\tmaybeHandleNotifications( grid.dataset.gridId );\n\t\t\t} );\n\t\t}, data[ grid.dataset.gridId ].fetch_interval * 1000 );\n\t} );\n};\n\n/**\n * @function bindEvents\n * @description Bind event handlers.\n *\n * @since 2.8.0\n *\n */\n\nconst bindEvents = () => {};\n\n/**\n * @function init\n * @description Kick off this modules functionality.\n *\n * @since 2.8.0\n *\n */\n\nconst init = () => {\n\tbindEvents();\n\tsetGridRefreshInterval();\n};\n\nexport default init;\n","/**\n * Inbox\n *\n * Initializes the inbox component\n */\n\nimport draggableHandler from './draggable-handler';\nimport filterHandler from './filter-handler';\nimport fullscreenHandler from './fullscreen-handler';\nimport searchHandler from './search-handler';\nimport initializeGrid from './initialize-grid';\nimport quickActions from './quick-actions';\nimport notifications, { checkNotificationStatus } from './notifications';\nimport gridRefresh from './grid-refresh';\nimport gridState from './grid-state';\nimport settings from './settings';\n\nimport el from './elements';\n\n/**\n * @function initializeGrids\n * @description Iterate over all found grids and initialize.\n *\n * @since 2.8.0\n *\n */\n\nconst initializeGrids = () => {\n\tel.containers.forEach( ( grid, index ) => initializeGrid( grid, index ) );\n};\n\n/**\n * @function init\n * @description Kick off this modules functionality.\n *\n * @since 2.8.0\n *\n */\n\nconst init = ( containers ) => {\n\tel.containers = containers;\n\n\tinitializeGrids();\n\tgridRefresh();\n\tgridState();\n\tquickActions();\n\tsettings();\n\tfullscreenHandler();\n\tfilterHandler();\n\tsearchHandler();\n\tdraggableHandler();\n\tnotifications();\n\tcheckNotificationStatus();\n\n\tconsole.info( 'Gravity Flow Common: Initialized inbox components.' );\n};\n\nexport default init;\n","import { dragHorizontal, getNodes } from '@gravityforms/utils';\n\nimport el from './elements';\nimport state from './state';\n\n/**\n * @function initializeDraggable\n * @description Sets up the draggable handlers that allow horizontal scroll with mouse drag.\n *\n * @since 2.8.0\n *\n */\n\nconst initializeDraggable = () => {\n\tel.containers.forEach( ( grid ) => {\n\t\tconst target = getNodes(\n\t\t\t'.ag-center-cols-viewport',\n\t\t\tfalse,\n\t\t\tgrid,\n\t\t\ttrue\n\t\t)[ 0 ];\n\t\tdragHorizontal( target );\n\t} );\n};\n\n/**\n * @function bindEvents\n * @description Binds the events for this module.\n *\n * @since 2.8.0\n *\n */\n\nconst bindEvents = () => {\n\tdocument.addEventListener( 'gform-utils/horizontal-drag-started', () => {\n\t\tstate.dragging = true;\n\t} );\n\tdocument.addEventListener( 'gform-utils/horizontal-drag-ended', () => {\n\t\tsetTimeout( () => {\n\t\t\tstate.dragging = false;\n\t\t}, 200 );\n\t} );\n};\n\n/**\n * @function init\n * @description Kick off this modules functionality\n *\n * @since 2.8.0\n *\n */\n\nconst init = () => {\n\tinitializeDraggable();\n\tbindEvents();\n};\n\nexport default init;\n"],"names":["activeGrid","actionData","actionMenuOpen","activeAction","activeActionKey","activeActionNote","activeActionSubmitType","activeActionTrigger","activeGridNode","activeRowNode","cleanDocTitle","document","title","dragging","latestUpdateData","newRowsOnUpdate","notificationShown","openInNewTab","previousRowCount","pushEnabled","refreshTimers","grids","gridOptions","flyouts","notifications","handleClearFilters","e","gridId","delegateTarget","parentNode","dataset","instances","api","setFilterModel","state","exitFullscreen","body","classList","remove","bodyLock","style","left","top","width","height","setTimeout","placeholder","getNodes","removeChild","handleFullscreen","rect","contains","getBoundingClientRect","insertAdjacentHTML","setAttribute","add","handleKeyEvents","key","INBOX_DEFAULT_ID","globalOptions","animateRows","data","gflowConfig","getIdsFromModel","ids","forEachNode","node","push","id","getGridIdFromEvent","input","gridContainer","getClosest","getGridId","grid","deleteRow","entryId","Number","rowData","splice","rowIndex","setRowData","applySearch","setQuickFilter","value","clearSearch","defaultDateFormat","AgGridDateComponent","params","this","eGui","createElement","innerHTML","eInput","querySelector","picker","flatpickr","onChange","onDateChanged","bind","dateFormat","wrap","calendarContainer","date","selectedDates","setDate","gridMutationEvents","openNewTabKeycodes","trackKeyState","options","indexOf","code","type","redirectToEntryEdit","url","openNewTab","window","location","href","name","classes","jsAttribute","checked","disabledLabel","enabledLabel","wrapperClasses","i18n","settings","settings_push_title","settings_push_desc","toggle","push_enabled","disabled","enabled","gflowStrings","gravityflow_inbox_strings","actionsRenderer","cell","url_entry","actions","length","entryUrl","view_quick_actions","inboxTemplates","cleanUpAjaxUi","mask","el","finishAjaxLoading","success","nextElementSibling","focus","preventScroll","activeActionMenuEntryId","closeQuickActionMenu","submitNoteAction","$","method","restUrl","action","gravityflow_note","beforeSend","xhr","setRequestHeader","nonce","response","status","alert","feedback","fail","handleQuickActionsMenuTrigger","trigger","requiresNote","handleQuickAction","handleQuickActionsMenuNote","handleQuickActionsMenuNoteAction","positionQuickActionMenu","adminBar","getElementById","barOffset","offsetHeight","offset","getCoords","innerHeight","bottom","topOffset","bottomOffset","focusLoop","handleQuickActions","filter","d","activeActionMenuEntryUrl","menu","view_entry","map","loading","join","actions_menu_heading","submit","cancel","openQuickActionMenu","maybeCloseQuickActions","target","handleResize","handleEntryLinkEvents","preventDefault","onGridReady","event","gridState","localStorage","storedColumns","JSON","parse","entry","colId","sort","currentColumns","columnDefs","field","arrayEquals","x","columnApi","applyColumnState","applyOrder","sizeColumnsToFit","setGridInitialState","gridReady","onCellClicked","column","gridCellClicked","onCellKeyPress","showQuickActions","gridCellKeyEvents","forEach","functionName","filters","getFilterModel","gridNode","Object","keys","stringify","getColumnState","handleGridStateChange","delegate","intComparator","value1","value2","Math","sign","parseInt","dateComparator","dateOne","Date","dateTwo","getUTCDate","setMonth","getUTCMonth","setHours","humanReadableGetter","displayKey","colDef","applyColumnComparator","valueFormatter","compareType","comparator","filterParams","inRangeInclusive","cellLinkRenderer","valueFormatted","endpoints","config","PATH_MAP","endpoint","path","rest_params","getPathMap","request","pathKey","defaultOptions","newOptions","omit","Error","host","baseUrl","is","Function","restParams","console","log","parseBody","objectToFormData","json","isEmpty","filteredParams","p","arrayFormat","initialHeaders","headers","info","start","now","fetch","then","ok","text","time","totalPages","get","totalPosts","error","message","trim","stripTags","unescapeHTML","err","detail","startsWith","catch","savePref","view","user_id","handleUpdateCounts","update","currentCount","newCount","maybePushNotify","getDisplayedRowCount","addArray","Notification","inbox_notification_title","new_inbox_items","addEventListener","parent","close","open","maybeHandleNotifications","ifVisible","handlePermission","permission","handleSettingsChange","gridContainerParent","previousElementSibling","checkNotificationPromise","requestPermission","browser_notifications_error","handlePushNotificationsToggle","selectAll","ag_grid","selectAllSearchResults","searchOoo","blanks","noMatches","filterOoo","equals","notEqual","blank","notBlank","empty","lessThan","greaterThan","lessThanOrEqual","greaterThanOrEqual","inRange","inRangeStart","inRangeEnd","notContains","endsWith","dateFormatOoo","andCondition","orCondition","applyFilter","resetFilter","clearFilter","cancelFilter","textFilter","numberFilter","dateFilter","setFilter","columns","pivotMode","groups","rowGroupColumnsEmptyMessage","values","valueColumnsEmptyMessage","pivots","pivotColumnsEmptyMessage","group","rowDragRows","loadingOoo","noRowsToShow","pinColumn","pinLeft","pinRight","noPin","valueAggregation","autosizeThiscolumn","autosizeAllColumns","groupBy","ungroupBy","addToValues","removeFromValues","addToLabels","removeFromLabels","resetColumns","expandAll","collapseAll","copy","ctrlC","copyWithHeaders","copyWithHeaderGroups","paste","ctrlV","export","csvExport","excelExport","sum","min","max","none","count","avg","filteredRows","selectedRows","totalRows","totalAndFilteredRows","more","to","of","page","nextPage","lastPage","firstPage","previousPage","pivotColumnGroupTotals","pivotChartAndPivotMode","pivotChart","chartRange","columnChart","groupedColumn","stackedColumn","normalizedColumn","barChart","groupedBar","stackedBar","normalizedBar","pieChart","pie","doughnut","line","xyChart","scatter","bubble","areaChart","area","stackedArea","normalizedArea","histogramChart","combinationChart","columnLineCombo","AreaColumnCombo","pivotChartTitle","rangeChartTitle","format","categories","defaultCategory","series","xyValues","paired","axis","navigator","color","thickness","xType","automatic","category","number","xRotation","yRotation","ticks","padding","spacing","chart","titlePlaceholder","background","font","right","labels","size","minSize","maxSize","legend","position","markerSize","markerStroke","markerPadding","itemSpacing","itemPaddingX","itemPaddingY","layoutHorizontalSpacing","layoutVerticalSpacing","strokeWidth","offsets","tooltips","callout","markers","shadow","blur","xOffset","yOffset","lineWidth","normal","bold","italic","boldItalic","predefined","fillOpacity","strokeOpacity","histogramBinCount","columnGroup","barGroup","pieGroup","lineGroup","scatterGroup","areaGroup","histogramGroup","combinationGroup","groupedColumnTooltip","stackedColumnTooltip","normalizedColumnTooltip","groupedBarTooltip","stackedBarTooltip","normalizedBarTooltip","pieTooltip","doughnutTooltip","lineTooltip","groupedAreaTooltip","stackedAreaTooltip","normalizedAreaTooltip","scatterTooltip","bubbleTooltip","histogramTooltip","columnLineComboTooltip","areaColumnComboTooltip","customComboTooltip","noDataToChart","pivotChartRequiresPivotMode","chartSettingsToolbarTooltip","chartLinkToolbarTooltip","chartUnlinkToolbarTooltip","chartDownloadToolbarTooltip","seriesChartType","seriesType","secondaryAxis","ariaHidden","ariaVisible","ariaChecked","ariaUnchecked","ariaIndeterminate","ariaDefaultListName","ariaColumnSelectAll","ariaInputEditor","ariaDateFilterInput","ariaFilterList","ariaFilterInput","ariaFilterColumnsInput","ariaFilterValue","ariaFilterFromValue","ariaFilterToValue","ariaFilteringOperator","ariaColumn","ariaColumnList","ariaColumnGroup","ariaRowSelect","ariaRowDeselect","ariaRowToggleSelection","ariaRowSelectAll","ariaToggleVisibility","ariaSearch","ariaSearchFilterValues","ariaRowGroupDropZonePanelLabel","ariaValuesDropZonePanelLabel","ariaPivotDropZonePanelLabel","ariaDropZoneColumnComponentDescription","ariaDropZoneColumnValueItemDescription","ariaLabelColumnMenu","ariaLabelCellEditor","ariaLabelDialog","ariaLabelSelectField","ariaLabelTooltip","ariaLabelContextMenu","ariaLabelSubMenu","ariaLabelAggregationFunction","thousandSeparator","decimalSeparator","gridIndex","grid_options","options_for_grid_not_found","getGridOptions","overlayNoRowsTemplate","no_entries","bindGridEvents","localeText","locale","cellClassRules","test","getRowNodeId","row","components","agDateInput","getRowStyle","step_highlight","borderLeft","index","Grid","searchId","uniqueId","search_inbox","initializeSearch","gridTemplates","toggle_settings_title","toggle_fullscreen_title","toggle_clear_filters_title","Flyout","content","maxWidth","inbox_settings","triggers","initializeSettings","parentElement","loader","refreshGrid","current_ids","gflow_access_token","current_user_token","search_args","searchArgs","addIndex","applyTransaction","containers","initializeGrid","fetch_enabled","setInterval","fetch_interval","dragHorizontal"],"sourceRoot":""}