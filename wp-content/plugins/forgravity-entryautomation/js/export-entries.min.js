(()=>{var e={6583:()=>{}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(6583);const{__:e}=wp.i18n;window.addEventListener("load",(()=>{const t="entryautomation-create-task__notice",n=document.getElementById("submit_button"),o=document.getElementById("gform_export");let a;async function i(){!function(){let e=document.getElementById(t);e&&e.remove()}(),r("processing");let e=new FormData(o);e.append("action","fg_entryautomation_export_entries_task"),await fetch(ajaxurl,{method:"POST",body:e}).then((e=>e.json())).then((e=>{!function(e,n="success"){let o=document.createElement("div");o.id=t,o.innerHTML=`<p>${e}</p>`,o.classList.add("notice",`notice-${n}`,"below-h1","is-dismissible","gf-notice"),document.getElementById("gf-admin-notices-wrapper").append(o),document.dispatchEvent(new Event("wp-updates-notice-added"))}(e.data,e.success?"success":"error"),r("initial")}))}function r(e="initial"){switch(e){case"initial":a.disabled=!1;break;case"processing":a.disabled=!0}}document.getElementById("export_submit_container")&&(document.getElementById("entryautomation-create-task")||(a=document.createElement("button"),a.id="entryautomation-create-task",a.type="button",a.innerText=e("Create Entry Automation Task","forgravity_entryautomation"),a.classList.add("button","large"),n.parentNode.insertBefore(a,n.nextSibling)),a.addEventListener("click",i))}))})()})();